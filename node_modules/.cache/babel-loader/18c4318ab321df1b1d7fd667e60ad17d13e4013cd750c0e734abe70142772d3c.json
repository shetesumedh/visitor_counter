{"ast":null,"code":"import { createJSONStorage, persist } from 'zustand/middleware';\nimport { createStore } from 'zustand/vanilla';\nimport { VERSION } from '../sdk-info.js';\nconst createChainSlice = () => {\n  return {\n    chains: []\n  };\n};\nconst createKeysSlice = () => {\n  return {\n    keys: {}\n  };\n};\nconst createAccountSlice = () => {\n  return {\n    account: {}\n  };\n};\nconst createSubAccountSlice = () => {\n  return {\n    subAccount: undefined\n  };\n};\nconst createSubAccountConfigSlice = () => {\n  return {\n    subAccountConfig: {}\n  };\n};\nconst createSpendPermissionsSlice = () => {\n  return {\n    spendPermissions: []\n  };\n};\nconst createConfigSlice = () => {\n  return {\n    config: {\n      version: VERSION\n    }\n  };\n};\nexport const sdkstore = createStore(persist((...args) => Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, createChainSlice(...args)), createKeysSlice(...args)), createAccountSlice(...args)), createSubAccountSlice(...args)), createSpendPermissionsSlice(...args)), createConfigSlice(...args)), createSubAccountConfigSlice(...args)), {\n  name: 'cbwsdk.store',\n  storage: createJSONStorage(() => localStorage),\n  partialize: state => {\n    // Explicitly select only the data properties we want to persist\n    // (not the methods)\n    return {\n      chains: state.chains,\n      keys: state.keys,\n      account: state.account,\n      subAccount: state.subAccount,\n      spendPermissions: state.spendPermissions,\n      config: state.config\n    };\n  }\n}));\n// Non-persisted subaccount configuration\nexport const subAccountsConfig = {\n  get: () => sdkstore.getState().subAccountConfig,\n  set: subAccountConfig => {\n    sdkstore.setState(state => ({\n      subAccountConfig: Object.assign(Object.assign({}, state.subAccountConfig), subAccountConfig)\n    }));\n  },\n  clear: () => {\n    sdkstore.setState({\n      subAccountConfig: {}\n    });\n  }\n};\nexport const subAccounts = {\n  get: () => sdkstore.getState().subAccount,\n  set: subAccount => {\n    sdkstore.setState(state => ({\n      subAccount: state.subAccount ? Object.assign(Object.assign({}, state.subAccount), subAccount) : Object.assign({\n        address: subAccount.address\n      }, subAccount)\n    }));\n  },\n  clear: () => {\n    sdkstore.setState({\n      subAccount: undefined\n    });\n  }\n};\nexport const spendPermissions = {\n  get: () => sdkstore.getState().spendPermissions,\n  set: spendPermissions => {\n    sdkstore.setState({\n      spendPermissions\n    });\n  },\n  clear: () => {\n    sdkstore.setState({\n      spendPermissions: []\n    });\n  }\n};\nexport const account = {\n  get: () => sdkstore.getState().account,\n  set: account => {\n    sdkstore.setState(state => ({\n      account: Object.assign(Object.assign({}, state.account), account)\n    }));\n  },\n  clear: () => {\n    sdkstore.setState({\n      account: {}\n    });\n  }\n};\nexport const chains = {\n  get: () => sdkstore.getState().chains,\n  set: chains => {\n    sdkstore.setState({\n      chains\n    });\n  },\n  clear: () => {\n    sdkstore.setState({\n      chains: []\n    });\n  }\n};\nexport const keys = {\n  get: key => sdkstore.getState().keys[key],\n  set: (key, value) => {\n    sdkstore.setState(state => ({\n      keys: Object.assign(Object.assign({}, state.keys), {\n        [key]: value\n      })\n    }));\n  },\n  clear: () => {\n    sdkstore.setState({\n      keys: {}\n    });\n  }\n};\nexport const config = {\n  get: () => sdkstore.getState().config,\n  set: config => {\n    sdkstore.setState(state => ({\n      config: Object.assign(Object.assign({}, state.config), config)\n    }));\n  }\n};\nconst actions = {\n  subAccounts,\n  subAccountsConfig,\n  spendPermissions,\n  account,\n  chains,\n  keys,\n  config\n};\nexport const store = Object.assign(Object.assign({}, sdkstore), actions);","map":{"version":3,"names":["createJSONStorage","persist","createStore","VERSION","createChainSlice","chains","createKeysSlice","keys","createAccountSlice","account","createSubAccountSlice","subAccount","undefined","createSubAccountConfigSlice","subAccountConfig","createSpendPermissionsSlice","spendPermissions","createConfigSlice","config","version","sdkstore","args","Object","assign","name","storage","localStorage","partialize","state","subAccountsConfig","get","getState","set","setState","clear","subAccounts","address","key","value","actions","store"],"sources":["../../src/store/store.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}