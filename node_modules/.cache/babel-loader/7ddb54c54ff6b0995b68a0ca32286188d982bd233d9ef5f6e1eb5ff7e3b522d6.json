{"ast":null,"code":"import { ConstantsUtil } from '@reown/appkit-common';\n/*\n * Exclude wallets that do not support relay connections but have custom deeplink mechanisms\n * Excludes:\n * - Phantom\n * - Coinbase\n */\nexport const CUSTOM_DEEPLINK_WALLETS = {\n  PHANTOM: {\n    id: 'a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393',\n    url: 'https://phantom.app'\n  },\n  SOLFLARE: {\n    id: '1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79',\n    url: 'https://solflare.com'\n  },\n  COINBASE: {\n    id: 'fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa',\n    url: 'https://go.cb-w.com'\n  }\n};\nexport const MobileWalletUtil = {\n  /**\n   * Handles mobile wallet redirection for wallets that have Universal Links and doesn't support WalletConnect Deep Links.\n   *\n   * @param {string} id - The id of the wallet.\n   * @param {ChainNamespace} namespace - The namespace of the chain.\n   */\n  handleMobileDeeplinkRedirect(id, namespace) {\n    /**\n     * Universal Links requires explicit user interaction to open the wallet app.\n     * Previously we've been calling this with the life-cycle methods in the Solana clients by listening the SELECT_WALLET event of EventController.\n     * But this breaks the UL functionality for some wallets like Phantom.\n     */\n    const href = window.location.href;\n    const encodedHref = encodeURIComponent(href);\n    if (id === CUSTOM_DEEPLINK_WALLETS.PHANTOM.id && !('phantom' in window)) {\n      const protocol = href.startsWith('https') ? 'https' : 'http';\n      const host = href.split('/')[2];\n      const encodedRef = encodeURIComponent(`${protocol}://${host}`);\n      window.location.href = `${CUSTOM_DEEPLINK_WALLETS.PHANTOM.url}/ul/browse/${encodedHref}?ref=${encodedRef}`;\n    }\n    if (id === CUSTOM_DEEPLINK_WALLETS.SOLFLARE.id && !('solflare' in window)) {\n      window.location.href = `${CUSTOM_DEEPLINK_WALLETS.SOLFLARE.url}/ul/v1/browse/${encodedHref}?ref=${encodedHref}`;\n    }\n    if (namespace === ConstantsUtil.CHAIN.SOLANA) {\n      if (id === CUSTOM_DEEPLINK_WALLETS.COINBASE.id && !('coinbaseSolana' in window)) {\n        window.location.href = `${CUSTOM_DEEPLINK_WALLETS.COINBASE.url}/dapp?cb_url=${encodedHref}`;\n      }\n    }\n  }\n};","map":{"version":3,"names":["ConstantsUtil","CUSTOM_DEEPLINK_WALLETS","PHANTOM","id","url","SOLFLARE","COINBASE","MobileWalletUtil","handleMobileDeeplinkRedirect","namespace","href","window","location","encodedHref","encodeURIComponent","protocol","startsWith","host","split","encodedRef","CHAIN","SOLANA"],"sources":["../../../../src/utils/MobileWallet.ts"],"sourcesContent":[null],"mappings":"AAAA,SAA8BA,aAAa,QAAQ,sBAAsB;AAEzE;;;;;;AAMA,OAAO,MAAMC,uBAAuB,GAAG;EACrCC,OAAO,EAAE;IACPC,EAAE,EAAE,kEAAkE;IACtEC,GAAG,EAAE;GACN;EACDC,QAAQ,EAAE;IACRF,EAAE,EAAE,kEAAkE;IACtEC,GAAG,EAAE;GACN;EACDE,QAAQ,EAAE;IACRH,EAAE,EAAE,kEAAkE;IACtEC,GAAG,EAAE;;CAER;AAED,OAAO,MAAMG,gBAAgB,GAAG;EAC9B;;;;;;EAMAC,4BAA4BA,CAACL,EAAU,EAAEM,SAAyB;IAChE;;;;;IAKA,MAAMC,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI;IACjC,MAAMG,WAAW,GAAGC,kBAAkB,CAACJ,IAAI,CAAC;IAE5C,IAAIP,EAAE,KAAKF,uBAAuB,CAACC,OAAO,CAACC,EAAE,IAAI,EAAE,SAAS,IAAIQ,MAAM,CAAC,EAAE;MACvE,MAAMI,QAAQ,GAAGL,IAAI,CAACM,UAAU,CAAC,OAAO,CAAC,GAAG,OAAO,GAAG,MAAM;MAC5D,MAAMC,IAAI,GAAGP,IAAI,CAACQ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAC/B,MAAMC,UAAU,GAAGL,kBAAkB,CAAC,GAAGC,QAAQ,MAAME,IAAI,EAAE,CAAC;MAE9DN,MAAM,CAACC,QAAQ,CAACF,IAAI,GAAG,GAAGT,uBAAuB,CAACC,OAAO,CAACE,GAAG,cAAcS,WAAW,QAAQM,UAAU,EAAE;IAC5G;IAEA,IAAIhB,EAAE,KAAKF,uBAAuB,CAACI,QAAQ,CAACF,EAAE,IAAI,EAAE,UAAU,IAAIQ,MAAM,CAAC,EAAE;MACzEA,MAAM,CAACC,QAAQ,CAACF,IAAI,GAAG,GAAGT,uBAAuB,CAACI,QAAQ,CAACD,GAAG,iBAAiBS,WAAW,QAAQA,WAAW,EAAE;IACjH;IAEA,IAAIJ,SAAS,KAAKT,aAAa,CAACoB,KAAK,CAACC,MAAM,EAAE;MAC5C,IAAIlB,EAAE,KAAKF,uBAAuB,CAACK,QAAQ,CAACH,EAAE,IAAI,EAAE,gBAAgB,IAAIQ,MAAM,CAAC,EAAE;QAC/EA,MAAM,CAACC,QAAQ,CAACF,IAAI,GAAG,GAAGT,uBAAuB,CAACK,QAAQ,CAACF,GAAG,gBAAgBS,WAAW,EAAE;MAC7F;IACF;EACF;CACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}