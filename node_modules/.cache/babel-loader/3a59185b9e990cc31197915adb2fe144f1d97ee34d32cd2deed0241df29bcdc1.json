{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defineTransactionRequest = exports.rpcTransactionType = void 0;\nexports.formatTransactionRequest = formatTransactionRequest;\nconst toHex_js_1 = require(\"../encoding/toHex.js\");\nconst formatter_js_1 = require(\"./formatter.js\");\nexports.rpcTransactionType = {\n  legacy: '0x0',\n  eip2930: '0x1',\n  eip1559: '0x2',\n  eip4844: '0x3',\n  eip7702: '0x4'\n};\nfunction formatTransactionRequest(request) {\n  const rpcRequest = {};\n  if (typeof request.authorizationList !== 'undefined') rpcRequest.authorizationList = formatAuthorizationList(request.authorizationList);\n  if (typeof request.accessList !== 'undefined') rpcRequest.accessList = request.accessList;\n  if (typeof request.blobVersionedHashes !== 'undefined') rpcRequest.blobVersionedHashes = request.blobVersionedHashes;\n  if (typeof request.blobs !== 'undefined') {\n    if (typeof request.blobs[0] !== 'string') rpcRequest.blobs = request.blobs.map(x => (0, toHex_js_1.bytesToHex)(x));else rpcRequest.blobs = request.blobs;\n  }\n  if (typeof request.data !== 'undefined') rpcRequest.data = request.data;\n  if (typeof request.from !== 'undefined') rpcRequest.from = request.from;\n  if (typeof request.gas !== 'undefined') rpcRequest.gas = (0, toHex_js_1.numberToHex)(request.gas);\n  if (typeof request.gasPrice !== 'undefined') rpcRequest.gasPrice = (0, toHex_js_1.numberToHex)(request.gasPrice);\n  if (typeof request.maxFeePerBlobGas !== 'undefined') rpcRequest.maxFeePerBlobGas = (0, toHex_js_1.numberToHex)(request.maxFeePerBlobGas);\n  if (typeof request.maxFeePerGas !== 'undefined') rpcRequest.maxFeePerGas = (0, toHex_js_1.numberToHex)(request.maxFeePerGas);\n  if (typeof request.maxPriorityFeePerGas !== 'undefined') rpcRequest.maxPriorityFeePerGas = (0, toHex_js_1.numberToHex)(request.maxPriorityFeePerGas);\n  if (typeof request.nonce !== 'undefined') rpcRequest.nonce = (0, toHex_js_1.numberToHex)(request.nonce);\n  if (typeof request.to !== 'undefined') rpcRequest.to = request.to;\n  if (typeof request.type !== 'undefined') rpcRequest.type = exports.rpcTransactionType[request.type];\n  if (typeof request.value !== 'undefined') rpcRequest.value = (0, toHex_js_1.numberToHex)(request.value);\n  return rpcRequest;\n}\nexports.defineTransactionRequest = (0, formatter_js_1.defineFormatter)('transactionRequest', formatTransactionRequest);\nfunction formatAuthorizationList(authorizationList) {\n  return authorizationList.map(authorization => ({\n    address: authorization.address,\n    r: authorization.r ? (0, toHex_js_1.numberToHex)(BigInt(authorization.r)) : authorization.r,\n    s: authorization.s ? (0, toHex_js_1.numberToHex)(BigInt(authorization.s)) : authorization.s,\n    chainId: (0, toHex_js_1.numberToHex)(authorization.chainId),\n    nonce: (0, toHex_js_1.numberToHex)(authorization.nonce),\n    ...(typeof authorization.yParity !== 'undefined' ? {\n      yParity: (0, toHex_js_1.numberToHex)(authorization.yParity)\n    } : {}),\n    ...(typeof authorization.v !== 'undefined' && typeof authorization.yParity === 'undefined' ? {\n      v: (0, toHex_js_1.numberToHex)(authorization.v)\n    } : {})\n  }));\n}","map":{"version":3,"names":["exports","formatTransactionRequest","toHex_js_1","require","formatter_js_1","rpcTransactionType","legacy","eip2930","eip1559","eip4844","eip7702","request","rpcRequest","authorizationList","formatAuthorizationList","accessList","blobVersionedHashes","blobs","map","x","bytesToHex","data","from","gas","numberToHex","gasPrice","maxFeePerBlobGas","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value","defineTransactionRequest","defineFormatter","authorization","address","r","BigInt","s","chainId","yParity","v"],"sources":["/home/sumedhshete/visitor-counter/frontend/node_modules/viem/utils/formatters/transactionRequest.ts"],"sourcesContent":["import type { ErrorType } from '../../errors/utils.js'\nimport type { AuthorizationList } from '../../types/authorization.js'\nimport type {\n  Chain,\n  ExtractChainFormatterParameters,\n} from '../../types/chain.js'\nimport type { ByteArray } from '../../types/misc.js'\nimport type {\n  RpcAuthorizationList,\n  RpcTransactionRequest,\n} from '../../types/rpc.js'\nimport type { TransactionRequest } from '../../types/transaction.js'\nimport type { ExactPartial } from '../../types/utils.js'\nimport { bytesToHex, numberToHex } from '../encoding/toHex.js'\nimport { type DefineFormatterErrorType, defineFormatter } from './formatter.js'\n\nexport type FormattedTransactionRequest<\n  chain extends Chain | undefined = Chain | undefined,\n> = ExtractChainFormatterParameters<\n  chain,\n  'transactionRequest',\n  TransactionRequest\n>\n\nexport const rpcTransactionType = {\n  legacy: '0x0',\n  eip2930: '0x1',\n  eip1559: '0x2',\n  eip4844: '0x3',\n  eip7702: '0x4',\n} as const\n\nexport type FormatTransactionRequestErrorType = ErrorType\n\nexport function formatTransactionRequest(\n  request: ExactPartial<TransactionRequest>,\n) {\n  const rpcRequest = {} as RpcTransactionRequest\n\n  if (typeof request.authorizationList !== 'undefined')\n    rpcRequest.authorizationList = formatAuthorizationList(\n      request.authorizationList,\n    )\n  if (typeof request.accessList !== 'undefined')\n    rpcRequest.accessList = request.accessList\n  if (typeof request.blobVersionedHashes !== 'undefined')\n    rpcRequest.blobVersionedHashes = request.blobVersionedHashes\n  if (typeof request.blobs !== 'undefined') {\n    if (typeof request.blobs[0] !== 'string')\n      rpcRequest.blobs = (request.blobs as ByteArray[]).map((x) =>\n        bytesToHex(x),\n      )\n    else rpcRequest.blobs = request.blobs\n  }\n  if (typeof request.data !== 'undefined') rpcRequest.data = request.data\n  if (typeof request.from !== 'undefined') rpcRequest.from = request.from\n  if (typeof request.gas !== 'undefined')\n    rpcRequest.gas = numberToHex(request.gas)\n  if (typeof request.gasPrice !== 'undefined')\n    rpcRequest.gasPrice = numberToHex(request.gasPrice)\n  if (typeof request.maxFeePerBlobGas !== 'undefined')\n    rpcRequest.maxFeePerBlobGas = numberToHex(request.maxFeePerBlobGas)\n  if (typeof request.maxFeePerGas !== 'undefined')\n    rpcRequest.maxFeePerGas = numberToHex(request.maxFeePerGas)\n  if (typeof request.maxPriorityFeePerGas !== 'undefined')\n    rpcRequest.maxPriorityFeePerGas = numberToHex(request.maxPriorityFeePerGas)\n  if (typeof request.nonce !== 'undefined')\n    rpcRequest.nonce = numberToHex(request.nonce)\n  if (typeof request.to !== 'undefined') rpcRequest.to = request.to\n  if (typeof request.type !== 'undefined')\n    rpcRequest.type = rpcTransactionType[request.type]\n  if (typeof request.value !== 'undefined')\n    rpcRequest.value = numberToHex(request.value)\n\n  return rpcRequest\n}\n\nexport type DefineTransactionRequestErrorType =\n  | DefineFormatterErrorType\n  | ErrorType\n\nexport const defineTransactionRequest = /*#__PURE__*/ defineFormatter(\n  'transactionRequest',\n  formatTransactionRequest,\n)\n\n//////////////////////////////////////////////////////////////////////////////\n\nfunction formatAuthorizationList(\n  authorizationList: AuthorizationList<number, boolean>,\n): RpcAuthorizationList {\n  return authorizationList.map(\n    (authorization) =>\n      ({\n        address: authorization.address,\n        r: authorization.r\n          ? numberToHex(BigInt(authorization.r))\n          : authorization.r,\n        s: authorization.s\n          ? numberToHex(BigInt(authorization.s))\n          : authorization.s,\n        chainId: numberToHex(authorization.chainId),\n        nonce: numberToHex(authorization.nonce),\n        ...(typeof authorization.yParity !== 'undefined'\n          ? { yParity: numberToHex(authorization.yParity) }\n          : {}),\n        ...(typeof authorization.v !== 'undefined' &&\n        typeof authorization.yParity === 'undefined'\n          ? { v: numberToHex(authorization.v) }\n          : {}),\n      }) as any,\n  ) as RpcAuthorizationList\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}