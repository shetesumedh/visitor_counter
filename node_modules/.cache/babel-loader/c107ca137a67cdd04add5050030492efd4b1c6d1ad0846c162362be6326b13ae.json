{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decodeFunctionResult = decodeFunctionResult;\nconst abi_js_1 = require(\"../../errors/abi.js\");\nconst decodeAbiParameters_js_1 = require(\"./decodeAbiParameters.js\");\nconst getAbiItem_js_1 = require(\"./getAbiItem.js\");\nconst docsPath = '/docs/contract/decodeFunctionResult';\nfunction decodeFunctionResult(parameters) {\n  const {\n    abi,\n    args,\n    functionName,\n    data\n  } = parameters;\n  let abiItem = abi[0];\n  if (functionName) {\n    const item = (0, getAbiItem_js_1.getAbiItem)({\n      abi,\n      args,\n      name: functionName\n    });\n    if (!item) throw new abi_js_1.AbiFunctionNotFoundError(functionName, {\n      docsPath\n    });\n    abiItem = item;\n  }\n  if (abiItem.type !== 'function') throw new abi_js_1.AbiFunctionNotFoundError(undefined, {\n    docsPath\n  });\n  if (!abiItem.outputs) throw new abi_js_1.AbiFunctionOutputsNotFoundError(abiItem.name, {\n    docsPath\n  });\n  const values = (0, decodeAbiParameters_js_1.decodeAbiParameters)(abiItem.outputs, data);\n  if (values && values.length > 1) return values;\n  if (values && values.length === 1) return values[0];\n  return undefined;\n}","map":{"version":3,"names":["exports","decodeFunctionResult","abi_js_1","require","decodeAbiParameters_js_1","getAbiItem_js_1","docsPath","parameters","abi","args","functionName","data","abiItem","item","getAbiItem","name","AbiFunctionNotFoundError","type","undefined","outputs","AbiFunctionOutputsNotFoundError","values","decodeAbiParameters","length"],"sources":["/home/sumedhshete/visitor-counter/frontend/node_modules/viem/utils/abi/decodeFunctionResult.ts"],"sourcesContent":["import type { Abi, AbiStateMutability, ExtractAbiFunctions } from 'abitype'\n\nimport {\n  AbiFunctionNotFoundError,\n  type AbiFunctionNotFoundErrorType,\n  AbiFunctionOutputsNotFoundError,\n  type AbiFunctionOutputsNotFoundErrorType,\n} from '../../errors/abi.js'\nimport type {\n  ContractFunctionArgs,\n  ContractFunctionName,\n  ContractFunctionReturnType,\n  Widen,\n} from '../../types/contract.js'\nimport type { Hex } from '../../types/misc.js'\n\nimport type { ErrorType } from '../../errors/utils.js'\nimport type { IsNarrowable, UnionEvaluate } from '../../types/utils.js'\nimport {\n  type DecodeAbiParametersErrorType,\n  decodeAbiParameters,\n} from './decodeAbiParameters.js'\nimport { type GetAbiItemErrorType, getAbiItem } from './getAbiItem.js'\n\nconst docsPath = '/docs/contract/decodeFunctionResult'\n\nexport type DecodeFunctionResultParameters<\n  abi extends Abi | readonly unknown[] = Abi,\n  functionName extends\n    | ContractFunctionName<abi>\n    | undefined = ContractFunctionName<abi>,\n  args extends ContractFunctionArgs<\n    abi,\n    AbiStateMutability,\n    functionName extends ContractFunctionName<abi>\n      ? functionName\n      : ContractFunctionName<abi>\n  > = ContractFunctionArgs<\n    abi,\n    AbiStateMutability,\n    functionName extends ContractFunctionName<abi>\n      ? functionName\n      : ContractFunctionName<abi>\n  >,\n  ///\n  hasFunctions = abi extends Abi\n    ? Abi extends abi\n      ? true\n      : [ExtractAbiFunctions<abi>] extends [never]\n        ? false\n        : true\n    : true,\n  allArgs = ContractFunctionArgs<\n    abi,\n    AbiStateMutability,\n    functionName extends ContractFunctionName<abi>\n      ? functionName\n      : ContractFunctionName<abi>\n  >,\n  allFunctionNames = ContractFunctionName<abi>,\n> = {\n  abi: abi\n  data: Hex\n} & UnionEvaluate<\n  IsNarrowable<abi, Abi> extends true\n    ? abi['length'] extends 1\n      ? { functionName?: functionName | allFunctionNames | undefined }\n      : { functionName: functionName | allFunctionNames }\n    : { functionName?: functionName | allFunctionNames | undefined }\n> &\n  UnionEvaluate<\n    readonly [] extends allArgs\n      ? {\n          args?:\n            | allArgs // show all options\n            // infer value, widen inferred value of `args` conditionally to match `allArgs`\n            | (abi extends Abi\n                ? args extends allArgs\n                  ? Widen<args>\n                  : never\n                : never)\n            | undefined\n        }\n      : {\n          args?:\n            | allArgs // show all options\n            | (Widen<args> & (args extends allArgs ? unknown : never)) // infer value, widen inferred value of `args` match `allArgs` (e.g. avoid union `args: readonly [123n] | readonly [bigint]`)\n            | undefined\n        }\n  > &\n  (hasFunctions extends true ? unknown : never)\n\nexport type DecodeFunctionResultReturnType<\n  abi extends Abi | readonly unknown[] = Abi,\n  functionName extends\n    | ContractFunctionName<abi>\n    | undefined = ContractFunctionName<abi>,\n  args extends ContractFunctionArgs<\n    abi,\n    AbiStateMutability,\n    functionName extends ContractFunctionName<abi>\n      ? functionName\n      : ContractFunctionName<abi>\n  > = ContractFunctionArgs<\n    abi,\n    AbiStateMutability,\n    functionName extends ContractFunctionName<abi>\n      ? functionName\n      : ContractFunctionName<abi>\n  >,\n> = ContractFunctionReturnType<\n  abi,\n  AbiStateMutability,\n  functionName extends ContractFunctionName<abi>\n    ? functionName\n    : ContractFunctionName<abi>,\n  args\n>\n\nexport type DecodeFunctionResultErrorType =\n  | AbiFunctionNotFoundErrorType\n  | AbiFunctionOutputsNotFoundErrorType\n  | DecodeAbiParametersErrorType\n  | GetAbiItemErrorType\n  | ErrorType\n\nexport function decodeFunctionResult<\n  const abi extends Abi | readonly unknown[],\n  functionName extends ContractFunctionName<abi> | undefined = undefined,\n  const args extends ContractFunctionArgs<\n    abi,\n    AbiStateMutability,\n    functionName extends ContractFunctionName<abi>\n      ? functionName\n      : ContractFunctionName<abi>\n  > = ContractFunctionArgs<\n    abi,\n    AbiStateMutability,\n    functionName extends ContractFunctionName<abi>\n      ? functionName\n      : ContractFunctionName<abi>\n  >,\n>(\n  parameters: DecodeFunctionResultParameters<abi, functionName, args>,\n): DecodeFunctionResultReturnType<abi, functionName, args> {\n  const { abi, args, functionName, data } =\n    parameters as DecodeFunctionResultParameters\n\n  let abiItem = abi[0]\n  if (functionName) {\n    const item = getAbiItem({ abi, args, name: functionName })\n    if (!item) throw new AbiFunctionNotFoundError(functionName, { docsPath })\n    abiItem = item\n  }\n\n  if (abiItem.type !== 'function')\n    throw new AbiFunctionNotFoundError(undefined, { docsPath })\n  if (!abiItem.outputs)\n    throw new AbiFunctionOutputsNotFoundError(abiItem.name, { docsPath })\n\n  const values = decodeAbiParameters(abiItem.outputs, data)\n  if (values && values.length > 1)\n    return values as DecodeFunctionResultReturnType<abi, functionName, args>\n  if (values && values.length === 1)\n    return values[0] as DecodeFunctionResultReturnType<abi, functionName, args>\n  return undefined as DecodeFunctionResultReturnType<abi, functionName, args>\n}\n"],"mappings":";;;;;AA8HAA,OAAA,CAAAC,oBAAA,GAAAA,oBAAA;AA5HA,MAAAC,QAAA,GAAAC,OAAA;AAgBA,MAAAC,wBAAA,GAAAD,OAAA;AAIA,MAAAE,eAAA,GAAAF,OAAA;AAEA,MAAMG,QAAQ,GAAG,qCAAqC;AAsGtD,SAAgBL,oBAAoBA,CAiBlCM,UAAmE;EAEnE,MAAM;IAAEC,GAAG;IAAEC,IAAI;IAAEC,YAAY;IAAEC;EAAI,CAAE,GACrCJ,UAA4C;EAE9C,IAAIK,OAAO,GAAGJ,GAAG,CAAC,CAAC,CAAC;EACpB,IAAIE,YAAY,EAAE;IAChB,MAAMG,IAAI,GAAG,IAAAR,eAAA,CAAAS,UAAU,EAAC;MAAEN,GAAG;MAAEC,IAAI;MAAEM,IAAI,EAAEL;IAAY,CAAE,CAAC;IAC1D,IAAI,CAACG,IAAI,EAAE,MAAM,IAAIX,QAAA,CAAAc,wBAAwB,CAACN,YAAY,EAAE;MAAEJ;IAAQ,CAAE,CAAC;IACzEM,OAAO,GAAGC,IAAI;EAChB;EAEA,IAAID,OAAO,CAACK,IAAI,KAAK,UAAU,EAC7B,MAAM,IAAIf,QAAA,CAAAc,wBAAwB,CAACE,SAAS,EAAE;IAAEZ;EAAQ,CAAE,CAAC;EAC7D,IAAI,CAACM,OAAO,CAACO,OAAO,EAClB,MAAM,IAAIjB,QAAA,CAAAkB,+BAA+B,CAACR,OAAO,CAACG,IAAI,EAAE;IAAET;EAAQ,CAAE,CAAC;EAEvE,MAAMe,MAAM,GAAG,IAAAjB,wBAAA,CAAAkB,mBAAmB,EAACV,OAAO,CAACO,OAAO,EAAER,IAAI,CAAC;EACzD,IAAIU,MAAM,IAAIA,MAAM,CAACE,MAAM,GAAG,CAAC,EAC7B,OAAOF,MAAiE;EAC1E,IAAIA,MAAM,IAAIA,MAAM,CAACE,MAAM,KAAK,CAAC,EAC/B,OAAOF,MAAM,CAAC,CAAC,CAA4D;EAC7E,OAAOH,SAAoE;AAC7E","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}