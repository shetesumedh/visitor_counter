{"ast":null,"code":"import { createStore, del, get, set } from 'idb-keyval';\nexport function createStorage(scope, name) {\n  const store = typeof indexedDB !== 'undefined' ? createStore(scope, name) : undefined;\n  return {\n    getItem: async key => {\n      const value = await get(key, store);\n      if (!value) {\n        return null;\n      }\n      return value;\n    },\n    removeItem: async key => {\n      return del(key, store);\n    },\n    setItem: async (key, value) => {\n      return set(key, value, store);\n    }\n  };\n}","map":{"version":3,"names":["createStore","del","get","set","createStorage","scope","name","store","indexedDB","undefined","getItem","key","value","removeItem","setItem"],"sources":["../../../src/kms/crypto-key/storage.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,WAAW,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,QAAQ,YAAY;AAQvD,OAAM,SAAUC,aAAaA,CAACC,KAAa,EAAEC,IAAY;EACvD,MAAMC,KAAK,GAAG,OAAOC,SAAS,KAAK,WAAW,GAAGR,WAAW,CAACK,KAAK,EAAEC,IAAI,CAAC,GAAGG,SAAS;EACrF,OAAO;IACLC,OAAO,EAAE,MAAOC,GAAW,IAAI;MAC7B,MAAMC,KAAK,GAAG,MAAMV,GAAG,CAACS,GAAG,EAAEJ,KAAK,CAAC;MACnC,IAAI,CAACK,KAAK,EAAE;QACV,OAAO,IAAI;MACb;MACA,OAAOA,KAAK;IACd,CAAC;IACDC,UAAU,EAAE,MAAOF,GAAW,IAAI;MAChC,OAAOV,GAAG,CAACU,GAAG,EAAEJ,KAAK,CAAC;IACxB,CAAC;IACDO,OAAO,EAAE,MAAAA,CAAOH,GAAW,EAAEC,KAAc,KAAI;MAC7C,OAAOT,GAAG,CAACQ,GAAG,EAAEC,KAAK,EAAEL,KAAK,CAAC;IAC/B;GACD;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}