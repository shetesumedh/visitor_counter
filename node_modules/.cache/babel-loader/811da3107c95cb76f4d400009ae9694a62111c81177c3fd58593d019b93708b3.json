{"ast":null,"code":"import { Methods, RestrictedMethods } from '../communication/methods.js';\nimport { PermissionsError, PERMISSIONS_REQUEST_REJECTED } from '../types/permissions.js';\nclass Wallet {\n  constructor(communicator) {\n    this.communicator = communicator;\n  }\n  async getPermissions() {\n    const response = await this.communicator.send(Methods.wallet_getPermissions, undefined);\n    return response.data;\n  }\n  async requestPermissions(permissions) {\n    if (!this.isPermissionRequestValid(permissions)) {\n      throw new PermissionsError('Permissions request is invalid', PERMISSIONS_REQUEST_REJECTED);\n    }\n    try {\n      const response = await this.communicator.send(Methods.wallet_requestPermissions, permissions);\n      return response.data;\n    } catch {\n      throw new PermissionsError('Permissions rejected', PERMISSIONS_REQUEST_REJECTED);\n    }\n  }\n  isPermissionRequestValid(permissions) {\n    return permissions.every(pr => {\n      if (typeof pr === 'object') {\n        return Object.keys(pr).every(method => {\n          if (Object.values(RestrictedMethods).includes(method)) {\n            return true;\n          }\n          return false;\n        });\n      }\n      return false;\n    });\n  }\n}\nexport { Wallet };","map":{"version":3,"names":["Methods","RestrictedMethods","PermissionsError","PERMISSIONS_REQUEST_REJECTED","Wallet","constructor","communicator","getPermissions","response","send","wallet_getPermissions","undefined","data","requestPermissions","permissions","isPermissionRequestValid","wallet_requestPermissions","every","pr","Object","keys","method","values","includes"],"sources":["/home/sumedhshete/visitor-counter/frontend_sepolia/node_modules/@safe-global/safe-apps-sdk/src/wallet/index.ts"],"sourcesContent":["import { Methods, RestrictedMethods } from '../communication/methods.js';\nimport { Communicator } from '../types/index.js';\nimport { PermissionRequest, Permission, PermissionsError, PERMISSIONS_REQUEST_REJECTED } from '../types/permissions.js';\n\nclass Wallet {\n  private readonly communicator: Communicator;\n\n  constructor(communicator: Communicator) {\n    this.communicator = communicator;\n  }\n\n  async getPermissions(): Promise<Permission[]> {\n    const response = await this.communicator.send<Methods.wallet_getPermissions, undefined, Permission[]>(\n      Methods.wallet_getPermissions,\n      undefined,\n    );\n\n    return response.data;\n  }\n\n  async requestPermissions(permissions: PermissionRequest[]): Promise<Permission[]> {\n    if (!this.isPermissionRequestValid(permissions)) {\n      throw new PermissionsError('Permissions request is invalid', PERMISSIONS_REQUEST_REJECTED);\n    }\n\n    try {\n      const response = await this.communicator.send<\n        Methods.wallet_requestPermissions,\n        PermissionRequest[],\n        Permission[]\n      >(Methods.wallet_requestPermissions, permissions);\n\n      return response.data;\n    } catch {\n      throw new PermissionsError('Permissions rejected', PERMISSIONS_REQUEST_REJECTED);\n    }\n  }\n\n  isPermissionRequestValid(permissions: PermissionRequest[]): boolean {\n    return permissions.every((pr: PermissionRequest) => {\n      if (typeof pr === 'object') {\n        return Object.keys(pr).every((method) => {\n          if (Object.values(RestrictedMethods).includes(method as RestrictedMethods)) {\n            return true;\n          }\n\n          return false;\n        });\n      }\n\n      return false;\n    });\n  }\n}\n\nexport { Wallet };\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,iBAAiB,QAAQ,6BAA6B;AAExE,SAAwCC,gBAAgB,EAAEC,4BAA4B,QAAQ,yBAAyB;AAEvH,MAAMC,MAAM;EAGVC,YAAYC,YAA0B;IACpC,IAAI,CAACA,YAAY,GAAGA,YAAY;EAClC;EAEA,MAAMC,cAAcA,CAAA;IAClB,MAAMC,QAAQ,GAAG,MAAM,IAAI,CAACF,YAAY,CAACG,IAAI,CAC3CT,OAAO,CAACU,qBAAqB,EAC7BC,SAAS,CACV;IAED,OAAOH,QAAQ,CAACI,IAAI;EACtB;EAEA,MAAMC,kBAAkBA,CAACC,WAAgC;IACvD,IAAI,CAAC,IAAI,CAACC,wBAAwB,CAACD,WAAW,CAAC,EAAE;MAC/C,MAAM,IAAIZ,gBAAgB,CAAC,gCAAgC,EAAEC,4BAA4B,CAAC;;IAG5F,IAAI;MACF,MAAMK,QAAQ,GAAG,MAAM,IAAI,CAACF,YAAY,CAACG,IAAI,CAI3CT,OAAO,CAACgB,yBAAyB,EAAEF,WAAW,CAAC;MAEjD,OAAON,QAAQ,CAACI,IAAI;KACrB,CAAC,MAAM;MACN,MAAM,IAAIV,gBAAgB,CAAC,sBAAsB,EAAEC,4BAA4B,CAAC;;EAEpF;EAEAY,wBAAwBA,CAACD,WAAgC;IACvD,OAAOA,WAAW,CAACG,KAAK,CAAEC,EAAqB,IAAI;MACjD,IAAI,OAAOA,EAAE,KAAK,QAAQ,EAAE;QAC1B,OAAOC,MAAM,CAACC,IAAI,CAACF,EAAE,CAAC,CAACD,KAAK,CAAEI,MAAM,IAAI;UACtC,IAAIF,MAAM,CAACG,MAAM,CAACrB,iBAAiB,CAAC,CAACsB,QAAQ,CAACF,MAA2B,CAAC,EAAE;YAC1E,OAAO,IAAI;;UAGb,OAAO,KAAK;QACd,CAAC,CAAC;;MAGJ,OAAO,KAAK;IACd,CAAC,CAAC;EACJ;;AAGF,SAASjB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}