{"ast":null,"code":"import { deserialize } from './deserialize.js';\nexport const cookieStorage = {\n  getItem(key) {\n    if (typeof window === 'undefined') return null;\n    const value = parseCookie(document.cookie, key);\n    return value ?? null;\n  },\n  setItem(key, value) {\n    if (typeof window === 'undefined') return;\n    document.cookie = `${key}=${value};path=/;samesite=Lax`;\n  },\n  removeItem(key) {\n    if (typeof window === 'undefined') return;\n    document.cookie = `${key}=;max-age=-1;path=/`;\n  }\n};\nexport function cookieToInitialState(config, cookie) {\n  if (!cookie) return undefined;\n  const key = `${config.storage?.key}.store`;\n  const parsed = parseCookie(cookie, key);\n  if (!parsed) return undefined;\n  return deserialize(parsed).state;\n}\nexport function parseCookie(cookie, key) {\n  const keyValue = cookie.split('; ').find(x => x.startsWith(`${key}=`));\n  if (!keyValue) return undefined;\n  return keyValue.substring(key.length + 1);\n}","map":{"version":3,"names":["deserialize","cookieStorage","getItem","key","window","value","parseCookie","document","cookie","setItem","removeItem","cookieToInitialState","config","undefined","storage","parsed","state","keyValue","split","find","x","startsWith","substring","length"],"sources":["/home/sumedhshete/visitor-counter/frontend/node_modules/@wagmi/core/src/utils/cookie.ts"],"sourcesContent":["import type { Config, State } from '../createConfig.js'\nimport type { BaseStorage } from '../createStorage.js'\nimport { deserialize } from './deserialize.js'\n\nexport const cookieStorage = {\n  getItem(key) {\n    if (typeof window === 'undefined') return null\n    const value = parseCookie(document.cookie, key)\n    return value ?? null\n  },\n  setItem(key, value) {\n    if (typeof window === 'undefined') return\n    document.cookie = `${key}=${value};path=/;samesite=Lax`\n  },\n  removeItem(key) {\n    if (typeof window === 'undefined') return\n    document.cookie = `${key}=;max-age=-1;path=/`\n  },\n} satisfies BaseStorage\n\nexport function cookieToInitialState(config: Config, cookie?: string | null) {\n  if (!cookie) return undefined\n  const key = `${config.storage?.key}.store`\n  const parsed = parseCookie(cookie, key)\n  if (!parsed) return undefined\n  return deserialize<{ state: State }>(parsed).state\n}\n\nexport function parseCookie(cookie: string, key: string) {\n  const keyValue = cookie.split('; ').find((x) => x.startsWith(`${key}=`))\n  if (!keyValue) return undefined\n  return keyValue.substring(key.length + 1)\n}\n"],"mappings":"AAEA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,OAAO,MAAMC,aAAa,GAAG;EAC3BC,OAAOA,CAACC,GAAG;IACT,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE,OAAO,IAAI;IAC9C,MAAMC,KAAK,GAAGC,WAAW,CAACC,QAAQ,CAACC,MAAM,EAAEL,GAAG,CAAC;IAC/C,OAAOE,KAAK,IAAI,IAAI;EACtB,CAAC;EACDI,OAAOA,CAACN,GAAG,EAAEE,KAAK;IAChB,IAAI,OAAOD,MAAM,KAAK,WAAW,EAAE;IACnCG,QAAQ,CAACC,MAAM,GAAG,GAAGL,GAAG,IAAIE,KAAK,sBAAsB;EACzD,CAAC;EACDK,UAAUA,CAACP,GAAG;IACZ,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;IACnCG,QAAQ,CAACC,MAAM,GAAG,GAAGL,GAAG,qBAAqB;EAC/C;CACqB;AAEvB,OAAM,SAAUQ,oBAAoBA,CAACC,MAAc,EAAEJ,MAAsB;EACzE,IAAI,CAACA,MAAM,EAAE,OAAOK,SAAS;EAC7B,MAAMV,GAAG,GAAG,GAAGS,MAAM,CAACE,OAAO,EAAEX,GAAG,QAAQ;EAC1C,MAAMY,MAAM,GAAGT,WAAW,CAACE,MAAM,EAAEL,GAAG,CAAC;EACvC,IAAI,CAACY,MAAM,EAAE,OAAOF,SAAS;EAC7B,OAAOb,WAAW,CAAmBe,MAAM,CAAC,CAACC,KAAK;AACpD;AAEA,OAAM,SAAUV,WAAWA,CAACE,MAAc,EAAEL,GAAW;EACrD,MAAMc,QAAQ,GAAGT,MAAM,CAACU,KAAK,CAAC,IAAI,CAAC,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,UAAU,CAAC,GAAGlB,GAAG,GAAG,CAAC,CAAC;EACxE,IAAI,CAACc,QAAQ,EAAE,OAAOJ,SAAS;EAC/B,OAAOI,QAAQ,CAACK,SAAS,CAACnB,GAAG,CAACoB,MAAM,GAAG,CAAC,CAAC;AAC3C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}