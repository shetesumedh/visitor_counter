{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.promiseCache = void 0;\nexports.withDedupe = withDedupe;\nconst lru_js_1 = require(\"../lru.js\");\nexports.promiseCache = new lru_js_1.LruMap(8192);\nfunction withDedupe(fn, {\n  enabled = true,\n  id\n}) {\n  if (!enabled || !id) return fn();\n  if (exports.promiseCache.get(id)) return exports.promiseCache.get(id);\n  const promise = fn().finally(() => exports.promiseCache.delete(id));\n  exports.promiseCache.set(id, promise);\n  return promise;\n}","map":{"version":3,"names":["exports","withDedupe","lru_js_1","require","promiseCache","LruMap","fn","enabled","id","get","promise","finally","delete","set"],"sources":["/home/sumedhshete/visitor-counter/frontend_sepolia/node_modules/viem/utils/promise/withDedupe.ts"],"sourcesContent":["import { LruMap } from '../lru.js'\n\n/** @internal */\nexport const promiseCache = /*#__PURE__*/ new LruMap<Promise<any>>(8192)\n\ntype WithDedupeOptions = {\n  enabled?: boolean | undefined\n  id?: string | undefined\n}\n\n/** Deduplicates in-flight promises. */\nexport function withDedupe<data>(\n  fn: () => Promise<data>,\n  { enabled = true, id }: WithDedupeOptions,\n): Promise<data> {\n  if (!enabled || !id) return fn()\n  if (promiseCache.get(id)) return promiseCache.get(id)!\n  const promise = fn().finally(() => promiseCache.delete(id))\n  promiseCache.set(id, promise)\n  return promise\n}\n"],"mappings":";;;;;;AAWAA,OAAA,CAAAC,UAAA,GAAAA,UAAA;AAXA,MAAAC,QAAA,GAAAC,OAAA;AAGaH,OAAA,CAAAI,YAAY,GAAiB,IAAIF,QAAA,CAAAG,MAAM,CAAe,IAAI,CAAC;AAQxE,SAAgBJ,UAAUA,CACxBK,EAAuB,EACvB;EAAEC,OAAO,GAAG,IAAI;EAAEC;AAAE,CAAqB;EAEzC,IAAI,CAACD,OAAO,IAAI,CAACC,EAAE,EAAE,OAAOF,EAAE,EAAE;EAChC,IAAIN,OAAA,CAAAI,YAAY,CAACK,GAAG,CAACD,EAAE,CAAC,EAAE,OAAOR,OAAA,CAAAI,YAAY,CAACK,GAAG,CAACD,EAAE,CAAE;EACtD,MAAME,OAAO,GAAGJ,EAAE,EAAE,CAACK,OAAO,CAAC,MAAMX,OAAA,CAAAI,YAAY,CAACQ,MAAM,CAACJ,EAAE,CAAC,CAAC;EAC3DR,OAAA,CAAAI,YAAY,CAACS,GAAG,CAACL,EAAE,EAAEE,OAAO,CAAC;EAC7B,OAAOA,OAAO;AAChB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}