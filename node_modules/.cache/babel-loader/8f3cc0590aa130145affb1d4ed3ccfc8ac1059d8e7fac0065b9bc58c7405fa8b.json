{"ast":null,"code":"import { proxy } from 'valtio/vanilla';\nimport { subscribeKey as subKey } from 'valtio/vanilla/utils';\nimport { withErrorBoundary } from '../utils/withErrorBoundary.js';\nimport { OptionsController } from './OptionsController.js';\n// -- State --------------------------------------------- //\nconst state = proxy({\n  message: '',\n  variant: 'info',\n  open: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n  state,\n  subscribeKey(key, callback) {\n    return subKey(state, key, callback);\n  },\n  open(message, variant) {\n    const {\n      debug\n    } = OptionsController.state;\n    const {\n      shortMessage,\n      longMessage\n    } = message;\n    if (debug) {\n      state.message = shortMessage;\n      state.variant = variant;\n      state.open = true;\n    }\n    if (longMessage) {\n      // eslint-disable-next-line no-console\n      console.error(typeof longMessage === 'function' ? longMessage() : longMessage);\n    }\n  },\n  close() {\n    state.open = false;\n    state.message = '';\n    state.variant = 'info';\n  }\n};\n// Export the controller wrapped with our error boundary\nexport const AlertController = withErrorBoundary(controller);","map":{"version":3,"names":["proxy","subscribeKey","subKey","withErrorBoundary","OptionsController","state","message","variant","open","controller","key","callback","debug","shortMessage","longMessage","console","error","close","AlertController"],"sources":["../../../../src/controllers/AlertController.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,KAAK,QAAQ,gBAAgB;AACtC,SAASC,YAAY,IAAIC,MAAM,QAAQ,sBAAsB;AAE7D,SAASC,iBAAiB,QAAQ,+BAA+B;AACjE,SAASC,iBAAiB,QAAQ,wBAAwB;AAgB1D;AACA,MAAMC,KAAK,GAAGL,KAAK,CAAuB;EACxCM,OAAO,EAAE,EAAE;EACXC,OAAO,EAAE,MAAM;EACfC,IAAI,EAAE;CACP,CAAC;AAEF;AACA,MAAMC,UAAU,GAAG;EACjBJ,KAAK;EAELJ,YAAYA,CAAqBS,GAAM,EAAEC,QAAkD;IACzF,OAAOT,MAAM,CAACG,KAAK,EAAEK,GAAG,EAAEC,QAAQ,CAAC;EACrC,CAAC;EAEDH,IAAIA,CAACF,OAA8B,EAAEC,OAAwC;IAC3E,MAAM;MAAEK;IAAK,CAAE,GAAGR,iBAAiB,CAACC,KAAK;IAEzC,MAAM;MAAEQ,YAAY;MAAEC;IAAW,CAAE,GAAGR,OAAO;IAE7C,IAAIM,KAAK,EAAE;MACTP,KAAK,CAACC,OAAO,GAAGO,YAAY;MAC5BR,KAAK,CAACE,OAAO,GAAGA,OAAO;MACvBF,KAAK,CAACG,IAAI,GAAG,IAAI;IACnB;IAEA,IAAIM,WAAW,EAAE;MACf;MACAC,OAAO,CAACC,KAAK,CAAC,OAAOF,WAAW,KAAK,UAAU,GAAGA,WAAW,EAAE,GAAGA,WAAW,CAAC;IAChF;EACF,CAAC;EAEDG,KAAKA,CAAA;IACHZ,KAAK,CAACG,IAAI,GAAG,KAAK;IAClBH,KAAK,CAACC,OAAO,GAAG,EAAE;IAClBD,KAAK,CAACE,OAAO,GAAG,MAAM;EACxB;CACD;AAED;AACA,OAAO,MAAMW,eAAe,GAAGf,iBAAiB,CAACM,UAAU,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}