{"ast":null,"code":"import { watchContractEvent as viem_watchContractEvent } from 'viem/actions';\nimport { getAction } from '../utils/getAction.js';\n// TODO: wrap in viem's `observe` to avoid duplicate invocations.\n/** https://wagmi.sh/core/api/actions/watchContractEvent */\nexport function watchContractEvent(config, parameters) {\n  const {\n    syncConnectedChain = config._internal.syncConnectedChain,\n    ...rest\n  } = parameters;\n  let unwatch;\n  const listener = chainId => {\n    if (unwatch) unwatch();\n    const client = config.getClient({\n      chainId\n    });\n    const action = getAction(client, viem_watchContractEvent, 'watchContractEvent');\n    unwatch = action(rest);\n    return unwatch;\n  };\n  // set up listener for transaction changes\n  const unlisten = listener(parameters.chainId);\n  // set up subscriber for connected chain changes\n  let unsubscribe;\n  if (syncConnectedChain && !parameters.chainId) unsubscribe = config.subscribe(({\n    chainId\n  }) => chainId, async chainId => listener(chainId));\n  return () => {\n    unlisten?.();\n    unsubscribe?.();\n  };\n}","map":{"version":3,"names":["watchContractEvent","viem_watchContractEvent","getAction","config","parameters","syncConnectedChain","_internal","rest","unwatch","listener","chainId","client","getClient","action","unlisten","unsubscribe","subscribe"],"sources":["/home/sumedhshete/visitor-counter/frontend/node_modules/@wagmi/core/src/actions/watchContractEvent.ts"],"sourcesContent":["import type {\n  Abi,\n  Chain,\n  ContractEventName,\n  Transport,\n  WebSocketTransport,\n} from 'viem'\nimport {\n  type WatchContractEventParameters as viem_WatchContractEventParameters,\n  type WatchContractEventReturnType as viem_WatchContractEventReturnType,\n  watchContractEvent as viem_watchContractEvent,\n} from 'viem/actions'\n\nimport type { Config } from '../createConfig.js'\nimport type { SelectChains } from '../types/chain.js'\nimport type {\n  ChainIdParameter,\n  SyncConnectedChainParameter,\n} from '../types/properties.js'\nimport type { UnionCompute } from '../types/utils.js'\nimport { getAction } from '../utils/getAction.js'\n\nexport type WatchContractEventParameters<\n  abi extends Abi | readonly unknown[] = Abi,\n  eventName extends ContractEventName<abi> | undefined = ContractEventName<abi>,\n  strict extends boolean | undefined = undefined,\n  config extends Config = Config,\n  chainId extends\n    config['chains'][number]['id'] = config['chains'][number]['id'],\n  ///\n  chains extends readonly Chain[] = SelectChains<config, chainId>,\n> = {\n  [key in keyof chains]: UnionCompute<\n    viem_WatchContractEventParameters<\n      abi,\n      eventName,\n      strict,\n      config['_internal']['transports'][chains[key]['id']] extends infer transport extends\n        Transport\n        ? Transport extends transport\n          ? WebSocketTransport\n          : transport\n        : WebSocketTransport\n    > &\n      ChainIdParameter<config, chainId> &\n      SyncConnectedChainParameter\n  >\n}[number]\n\nexport type WatchContractEventReturnType = viem_WatchContractEventReturnType\n\n// TODO: wrap in viem's `observe` to avoid duplicate invocations.\n/** https://wagmi.sh/core/api/actions/watchContractEvent */\nexport function watchContractEvent<\n  config extends Config,\n  chainId extends config['chains'][number]['id'],\n  const abi extends Abi | readonly unknown[],\n  eventName extends ContractEventName<abi> | undefined,\n  strict extends boolean | undefined = undefined,\n>(\n  config: config,\n  parameters: WatchContractEventParameters<\n    abi,\n    eventName,\n    strict,\n    config,\n    chainId\n  >,\n) {\n  const { syncConnectedChain = config._internal.syncConnectedChain, ...rest } =\n    parameters\n\n  let unwatch: WatchContractEventReturnType | undefined\n  const listener = (chainId: number | undefined) => {\n    if (unwatch) unwatch()\n\n    const client = config.getClient({ chainId })\n    const action = getAction(\n      client,\n      viem_watchContractEvent,\n      'watchContractEvent',\n    )\n    unwatch = action(rest as unknown as viem_WatchContractEventParameters)\n    return unwatch\n  }\n\n  // set up listener for transaction changes\n  const unlisten = listener(parameters.chainId)\n\n  // set up subscriber for connected chain changes\n  let unsubscribe: (() => void) | undefined\n  if (syncConnectedChain && !parameters.chainId)\n    unsubscribe = config.subscribe(\n      ({ chainId }) => chainId,\n      async (chainId) => listener(chainId),\n    )\n\n  return () => {\n    unlisten?.()\n    unsubscribe?.()\n  }\n}\n"],"mappings":"AAOA,SAGEA,kBAAkB,IAAIC,uBAAuB,QACxC,cAAc;AASrB,SAASC,SAAS,QAAQ,uBAAuB;AA+BjD;AACA;AACA,OAAM,SAAUF,kBAAkBA,CAOhCG,MAAc,EACdC,UAMC;EAED,MAAM;IAAEC,kBAAkB,GAAGF,MAAM,CAACG,SAAS,CAACD,kBAAkB;IAAE,GAAGE;EAAI,CAAE,GACzEH,UAAU;EAEZ,IAAII,OAAiD;EACrD,MAAMC,QAAQ,GAAIC,OAA2B,IAAI;IAC/C,IAAIF,OAAO,EAAEA,OAAO,EAAE;IAEtB,MAAMG,MAAM,GAAGR,MAAM,CAACS,SAAS,CAAC;MAAEF;IAAO,CAAE,CAAC;IAC5C,MAAMG,MAAM,GAAGX,SAAS,CACtBS,MAAM,EACNV,uBAAuB,EACvB,oBAAoB,CACrB;IACDO,OAAO,GAAGK,MAAM,CAACN,IAAoD,CAAC;IACtE,OAAOC,OAAO;EAChB,CAAC;EAED;EACA,MAAMM,QAAQ,GAAGL,QAAQ,CAACL,UAAU,CAACM,OAAO,CAAC;EAE7C;EACA,IAAIK,WAAqC;EACzC,IAAIV,kBAAkB,IAAI,CAACD,UAAU,CAACM,OAAO,EAC3CK,WAAW,GAAGZ,MAAM,CAACa,SAAS,CAC5B,CAAC;IAAEN;EAAO,CAAE,KAAKA,OAAO,EACxB,MAAOA,OAAO,IAAKD,QAAQ,CAACC,OAAO,CAAC,CACrC;EAEH,OAAO,MAAK;IACVI,QAAQ,GAAE,CAAE;IACZC,WAAW,GAAE,CAAE;EACjB,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}