{"ast":null,"code":"import { prepend0x } from '../../../core/type/util.js';\nexport class RelayEventManager {\n  constructor() {\n    this._nextRequestId = 0;\n    this.callbacks = new Map();\n  }\n  makeRequestId() {\n    // max nextId == max int32 for compatibility with mobile\n    this._nextRequestId = (this._nextRequestId + 1) % 0x7fffffff;\n    const id = this._nextRequestId;\n    const idStr = prepend0x(id.toString(16));\n    // unlikely that this will ever be an issue, but just to be safe\n    const callback = this.callbacks.get(idStr);\n    if (callback) {\n      this.callbacks.delete(idStr);\n    }\n    return id;\n  }\n}","map":{"version":3,"names":["prepend0x","RelayEventManager","constructor","_nextRequestId","callbacks","Map","makeRequestId","id","idStr","toString","callback","get","delete"],"sources":["../../../../src/sign/walletlink/relay/RelayEventManager.ts"],"sourcesContent":[null],"mappings":"AACA,SAASA,SAAS,QAAQ,4BAAqB;AAI/C,OAAM,MAAOC,iBAAiB;EAA9BC,YAAA;IACE,KAAAC,cAAc,GAAG,CAAC;IAClB,KAAAC,SAAS,GAAG,IAAIC,GAAG,EAA4B;EAcjD;EAZSC,aAAaA,CAAA;IAClB;IACA,IAAI,CAACH,cAAc,GAAG,CAAC,IAAI,CAACA,cAAc,GAAG,CAAC,IAAI,UAAU;IAC5D,MAAMI,EAAE,GAAG,IAAI,CAACJ,cAAc;IAC9B,MAAMK,KAAK,GAAGR,SAAS,CAACO,EAAE,CAACE,QAAQ,CAAC,EAAE,CAAC,CAAC;IACxC;IACA,MAAMC,QAAQ,GAAG,IAAI,CAACN,SAAS,CAACO,GAAG,CAACH,KAAK,CAAC;IAC1C,IAAIE,QAAQ,EAAE;MACZ,IAAI,CAACN,SAAS,CAACQ,MAAM,CAACJ,KAAK,CAAC;IAC9B;IACA,OAAOD,EAAE;EACX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}