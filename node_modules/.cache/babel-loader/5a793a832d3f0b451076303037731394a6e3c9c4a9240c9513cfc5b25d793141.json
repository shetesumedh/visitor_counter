{"ast":null,"code":"import { ChainNotConfiguredError, createConnector } from '@wagmi/core';\nimport { SwitchChainError, UserRejectedRequestError, getAddress, numberToHex } from 'viem';\ncoinbaseWallet.type = 'coinbaseWallet';\nexport function coinbaseWallet(parameters = {}) {\n  if (parameters.version === '3' || parameters.headlessMode) return version3(parameters);\n  return version4(parameters);\n}\nfunction version4(parameters) {\n  let walletProvider;\n  let accountsChanged;\n  let chainChanged;\n  let disconnect;\n  return createConnector(config => ({\n    id: 'coinbaseWalletSDK',\n    name: 'Coinbase Wallet',\n    rdns: 'com.coinbase.wallet',\n    type: coinbaseWallet.type,\n    async connect({\n      chainId,\n      ...rest\n    } = {}) {\n      try {\n        const provider = await this.getProvider();\n        const accounts = (await provider.request({\n          method: 'eth_requestAccounts',\n          params: 'instantOnboarding' in rest && rest.instantOnboarding ? [{\n            onboarding: 'instant'\n          }] : []\n        })).map(x => getAddress(x));\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this);\n          provider.on('accountsChanged', accountsChanged);\n        }\n        if (!chainChanged) {\n          chainChanged = this.onChainChanged.bind(this);\n          provider.on('chainChanged', chainChanged);\n        }\n        if (!disconnect) {\n          disconnect = this.onDisconnect.bind(this);\n          provider.on('disconnect', disconnect);\n        }\n        // Switch to chain if provided\n        let currentChainId = await this.getChainId();\n        if (chainId && currentChainId !== chainId) {\n          const chain = await this.switchChain({\n            chainId\n          }).catch(error => {\n            if (error.code === UserRejectedRequestError.code) throw error;\n            return {\n              id: currentChainId\n            };\n          });\n          currentChainId = chain?.id ?? currentChainId;\n        }\n        return {\n          accounts,\n          chainId: currentChainId\n        };\n      } catch (error) {\n        if (/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(error.message)) throw new UserRejectedRequestError(error);\n        throw error;\n      }\n    },\n    async disconnect() {\n      const provider = await this.getProvider();\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged);\n        accountsChanged = undefined;\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged);\n        chainChanged = undefined;\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect);\n        disconnect = undefined;\n      }\n      provider.disconnect();\n      provider.close?.();\n    },\n    async getAccounts() {\n      const provider = await this.getProvider();\n      return (await provider.request({\n        method: 'eth_accounts'\n      })).map(x => getAddress(x));\n    },\n    async getChainId() {\n      const provider = await this.getProvider();\n      const chainId = await provider.request({\n        method: 'eth_chainId'\n      });\n      return Number(chainId);\n    },\n    async getProvider() {\n      if (!walletProvider) {\n        const preference = (() => {\n          if (typeof parameters.preference === 'string') return {\n            options: parameters.preference\n          };\n          return {\n            ...parameters.preference,\n            options: parameters.preference?.options ?? 'all'\n          };\n        })();\n        const {\n          createCoinbaseWalletSDK\n        } = await import('@coinbase/wallet-sdk');\n        const sdk = createCoinbaseWalletSDK({\n          ...parameters,\n          appChainIds: config.chains.map(x => x.id),\n          preference\n        });\n        walletProvider = sdk.getProvider();\n      }\n      return walletProvider;\n    },\n    async isAuthorized() {\n      try {\n        const accounts = await this.getAccounts();\n        return !!accounts.length;\n      } catch {\n        return false;\n      }\n    },\n    async switchChain({\n      addEthereumChainParameter,\n      chainId\n    }) {\n      const chain = config.chains.find(chain => chain.id === chainId);\n      if (!chain) throw new SwitchChainError(new ChainNotConfiguredError());\n      const provider = await this.getProvider();\n      try {\n        await provider.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{\n            chainId: numberToHex(chain.id)\n          }]\n        });\n        return chain;\n      } catch (error) {\n        // Indicates chain is not added to provider\n        if (error.code === 4902) {\n          try {\n            let blockExplorerUrls;\n            if (addEthereumChainParameter?.blockExplorerUrls) blockExplorerUrls = addEthereumChainParameter.blockExplorerUrls;else blockExplorerUrls = chain.blockExplorers?.default.url ? [chain.blockExplorers?.default.url] : [];\n            let rpcUrls;\n            if (addEthereumChainParameter?.rpcUrls?.length) rpcUrls = addEthereumChainParameter.rpcUrls;else rpcUrls = [chain.rpcUrls.default?.http[0] ?? ''];\n            const addEthereumChain = {\n              blockExplorerUrls,\n              chainId: numberToHex(chainId),\n              chainName: addEthereumChainParameter?.chainName ?? chain.name,\n              iconUrls: addEthereumChainParameter?.iconUrls,\n              nativeCurrency: addEthereumChainParameter?.nativeCurrency ?? chain.nativeCurrency,\n              rpcUrls\n            };\n            await provider.request({\n              method: 'wallet_addEthereumChain',\n              params: [addEthereumChain]\n            });\n            return chain;\n          } catch (error) {\n            throw new UserRejectedRequestError(error);\n          }\n        }\n        throw new SwitchChainError(error);\n      }\n    },\n    onAccountsChanged(accounts) {\n      if (accounts.length === 0) this.onDisconnect();else config.emitter.emit('change', {\n        accounts: accounts.map(x => getAddress(x))\n      });\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain);\n      config.emitter.emit('change', {\n        chainId\n      });\n    },\n    async onDisconnect(_error) {\n      config.emitter.emit('disconnect');\n      const provider = await this.getProvider();\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged);\n        accountsChanged = undefined;\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged);\n        chainChanged = undefined;\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect);\n        disconnect = undefined;\n      }\n    }\n  }));\n}\nfunction version3(parameters) {\n  const reloadOnDisconnect = false;\n  let sdk;\n  let walletProvider;\n  let accountsChanged;\n  let chainChanged;\n  let disconnect;\n  return createConnector(config => ({\n    id: 'coinbaseWalletSDK',\n    name: 'Coinbase Wallet',\n    rdns: 'com.coinbase.wallet',\n    type: coinbaseWallet.type,\n    async connect({\n      chainId\n    } = {}) {\n      try {\n        const provider = await this.getProvider();\n        const accounts = (await provider.request({\n          method: 'eth_requestAccounts'\n        })).map(x => getAddress(x));\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this);\n          provider.on('accountsChanged', accountsChanged);\n        }\n        if (!chainChanged) {\n          chainChanged = this.onChainChanged.bind(this);\n          provider.on('chainChanged', chainChanged);\n        }\n        if (!disconnect) {\n          disconnect = this.onDisconnect.bind(this);\n          provider.on('disconnect', disconnect);\n        }\n        // Switch to chain if provided\n        let currentChainId = await this.getChainId();\n        if (chainId && currentChainId !== chainId) {\n          const chain = await this.switchChain({\n            chainId\n          }).catch(error => {\n            if (error.code === UserRejectedRequestError.code) throw error;\n            return {\n              id: currentChainId\n            };\n          });\n          currentChainId = chain?.id ?? currentChainId;\n        }\n        return {\n          accounts,\n          chainId: currentChainId\n        };\n      } catch (error) {\n        if (/(user closed modal|accounts received is empty|user denied account)/i.test(error.message)) throw new UserRejectedRequestError(error);\n        throw error;\n      }\n    },\n    async disconnect() {\n      const provider = await this.getProvider();\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged);\n        accountsChanged = undefined;\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged);\n        chainChanged = undefined;\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect);\n        disconnect = undefined;\n      }\n      provider.disconnect();\n      provider.close();\n    },\n    async getAccounts() {\n      const provider = await this.getProvider();\n      return (await provider.request({\n        method: 'eth_accounts'\n      })).map(x => getAddress(x));\n    },\n    async getChainId() {\n      const provider = await this.getProvider();\n      const chainId = await provider.request({\n        method: 'eth_chainId'\n      });\n      return Number(chainId);\n    },\n    async getProvider() {\n      if (!walletProvider) {\n        // Unwrapping import for Vite compatibility.\n        // See: https://github.com/vitejs/vite/issues/9703\n        const CoinbaseWalletSDK = await (async () => {\n          const {\n            default: SDK\n          } = await import('cbw-sdk');\n          if (typeof SDK !== 'function' && typeof SDK.default === 'function') return SDK.default;\n          return SDK;\n        })();\n        sdk = new CoinbaseWalletSDK({\n          ...parameters,\n          reloadOnDisconnect\n        });\n        // Force types to retrieve private `walletExtension` method from the Coinbase Wallet SDK.\n        const walletExtensionChainId = sdk.walletExtension?.getChainId();\n        const chain = config.chains.find(chain => parameters.chainId ? chain.id === parameters.chainId : chain.id === walletExtensionChainId) || config.chains[0];\n        const chainId = parameters.chainId || chain?.id;\n        const jsonRpcUrl = parameters.jsonRpcUrl || chain?.rpcUrls.default.http[0];\n        walletProvider = sdk.makeWeb3Provider(jsonRpcUrl, chainId);\n      }\n      return walletProvider;\n    },\n    async isAuthorized() {\n      try {\n        const accounts = await this.getAccounts();\n        return !!accounts.length;\n      } catch {\n        return false;\n      }\n    },\n    async switchChain({\n      addEthereumChainParameter,\n      chainId\n    }) {\n      const chain = config.chains.find(chain => chain.id === chainId);\n      if (!chain) throw new SwitchChainError(new ChainNotConfiguredError());\n      const provider = await this.getProvider();\n      try {\n        await provider.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{\n            chainId: numberToHex(chain.id)\n          }]\n        });\n        return chain;\n      } catch (error) {\n        // Indicates chain is not added to provider\n        if (error.code === 4902) {\n          try {\n            let blockExplorerUrls;\n            if (addEthereumChainParameter?.blockExplorerUrls) blockExplorerUrls = addEthereumChainParameter.blockExplorerUrls;else blockExplorerUrls = chain.blockExplorers?.default.url ? [chain.blockExplorers?.default.url] : [];\n            let rpcUrls;\n            if (addEthereumChainParameter?.rpcUrls?.length) rpcUrls = addEthereumChainParameter.rpcUrls;else rpcUrls = [chain.rpcUrls.default?.http[0] ?? ''];\n            const addEthereumChain = {\n              blockExplorerUrls,\n              chainId: numberToHex(chainId),\n              chainName: addEthereumChainParameter?.chainName ?? chain.name,\n              iconUrls: addEthereumChainParameter?.iconUrls,\n              nativeCurrency: addEthereumChainParameter?.nativeCurrency ?? chain.nativeCurrency,\n              rpcUrls\n            };\n            await provider.request({\n              method: 'wallet_addEthereumChain',\n              params: [addEthereumChain]\n            });\n            return chain;\n          } catch (error) {\n            throw new UserRejectedRequestError(error);\n          }\n        }\n        throw new SwitchChainError(error);\n      }\n    },\n    onAccountsChanged(accounts) {\n      if (accounts.length === 0) this.onDisconnect();else config.emitter.emit('change', {\n        accounts: accounts.map(x => getAddress(x))\n      });\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain);\n      config.emitter.emit('change', {\n        chainId\n      });\n    },\n    async onDisconnect(_error) {\n      config.emitter.emit('disconnect');\n      const provider = await this.getProvider();\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged);\n        accountsChanged = undefined;\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged);\n        chainChanged = undefined;\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect);\n        disconnect = undefined;\n      }\n    }\n  }));\n}","map":{"version":3,"names":["ChainNotConfiguredError","createConnector","SwitchChainError","UserRejectedRequestError","getAddress","numberToHex","coinbaseWallet","type","parameters","version","headlessMode","version3","version4","walletProvider","accountsChanged","chainChanged","disconnect","config","id","name","rdns","connect","chainId","rest","provider","getProvider","accounts","request","method","params","instantOnboarding","onboarding","map","x","onAccountsChanged","bind","on","onChainChanged","onDisconnect","currentChainId","getChainId","chain","switchChain","catch","error","code","test","message","removeListener","undefined","close","getAccounts","Number","preference","options","createCoinbaseWalletSDK","sdk","appChainIds","chains","isAuthorized","length","addEthereumChainParameter","find","blockExplorerUrls","blockExplorers","default","url","rpcUrls","http","addEthereumChain","chainName","iconUrls","nativeCurrency","emitter","emit","_error","reloadOnDisconnect","CoinbaseWalletSDK","SDK","walletExtensionChainId","walletExtension","jsonRpcUrl","makeWeb3Provider"],"sources":["/home/sumedhshete/visitor-counter/frontend/node_modules/@wagmi/connectors/src/coinbaseWallet.ts"],"sourcesContent":["import type {\n  Preference,\n  ProviderInterface,\n  createCoinbaseWalletSDK,\n} from '@coinbase/wallet-sdk'\nimport {\n  ChainNotConfiguredError,\n  type Connector,\n  createConnector,\n} from '@wagmi/core'\nimport type { Compute, Mutable, Omit } from '@wagmi/core/internal'\nimport type {\n  CoinbaseWalletProvider as CBW_Provider,\n  CoinbaseWalletSDK as CBW_SDK,\n} from 'cbw-sdk'\nimport {\n  type AddEthereumChainParameter,\n  type Address,\n  type Hex,\n  type ProviderRpcError,\n  SwitchChainError,\n  UserRejectedRequestError,\n  getAddress,\n  numberToHex,\n} from 'viem'\n\ntype Version = '3' | '4'\n\nexport type CoinbaseWalletParameters<version extends Version = '3'> =\n  version extends '4'\n    ? Compute<\n        {\n          headlessMode?: false | undefined\n          /** Coinbase Wallet SDK version */\n          version?: version | '3' | undefined\n        } & Version4Parameters\n      >\n    : Compute<\n        {\n          /**\n           * @deprecated `headlessMode` will be removed in the next major version. Upgrade to `version: '4'`.\n           */\n          headlessMode?: true | undefined\n          /**\n           * Coinbase Wallet SDK version\n           * @deprecated Version 3 will be removed in the next major version. Upgrade to `version: '4'`.\n           * @default '4'\n           */\n          version?: version | '4' | undefined\n        } & Version3Parameters\n      >\n\ncoinbaseWallet.type = 'coinbaseWallet' as const\nexport function coinbaseWallet<version extends Version>(\n  parameters: CoinbaseWalletParameters<version> = {} as any,\n): version extends '4'\n  ? ReturnType<typeof version4>\n  : ReturnType<typeof version3> {\n  if (parameters.version === '3' || parameters.headlessMode)\n    return version3(parameters as Version3Parameters) as any\n  return version4(parameters as Version4Parameters) as any\n}\n\ntype Version4Parameters = Mutable<\n  Omit<\n    Parameters<typeof createCoinbaseWalletSDK>[0],\n    | 'appChainIds' // set via wagmi config\n    | 'preference'\n  > & {\n    // TODO(v3): Remove `Preference['options']`\n    /**\n     * Preference for the type of wallet to display.\n     * @default 'all'\n     */\n    preference?: Preference['options'] | Compute<Preference> | undefined\n  }\n>\n\nfunction version4(parameters: Version4Parameters) {\n  type Provider = ProviderInterface & {\n    // for backwards compatibility\n    close?(): void\n  }\n  type Properties = {\n    connect(parameters?: {\n      chainId?: number | undefined\n      instantOnboarding?: boolean | undefined\n      isReconnecting?: boolean | undefined\n    }): Promise<{\n      accounts: readonly Address[]\n      chainId: number\n    }>\n  }\n\n  let walletProvider: Provider | undefined\n\n  let accountsChanged: Connector['onAccountsChanged'] | undefined\n  let chainChanged: Connector['onChainChanged'] | undefined\n  let disconnect: Connector['onDisconnect'] | undefined\n\n  return createConnector<Provider, Properties>((config) => ({\n    id: 'coinbaseWalletSDK',\n    name: 'Coinbase Wallet',\n    rdns: 'com.coinbase.wallet',\n    type: coinbaseWallet.type,\n    async connect({ chainId, ...rest } = {}) {\n      try {\n        const provider = await this.getProvider()\n        const accounts = (\n          (await provider.request({\n            method: 'eth_requestAccounts',\n            params:\n              'instantOnboarding' in rest && rest.instantOnboarding\n                ? [{ onboarding: 'instant' }]\n                : [],\n          })) as string[]\n        ).map((x) => getAddress(x))\n\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.on('accountsChanged', accountsChanged)\n        }\n        if (!chainChanged) {\n          chainChanged = this.onChainChanged.bind(this)\n          provider.on('chainChanged', chainChanged)\n        }\n        if (!disconnect) {\n          disconnect = this.onDisconnect.bind(this)\n          provider.on('disconnect', disconnect)\n        }\n\n        // Switch to chain if provided\n        let currentChainId = await this.getChainId()\n        if (chainId && currentChainId !== chainId) {\n          const chain = await this.switchChain!({ chainId }).catch((error) => {\n            if (error.code === UserRejectedRequestError.code) throw error\n            return { id: currentChainId }\n          })\n          currentChainId = chain?.id ?? currentChainId\n        }\n\n        return { accounts, chainId: currentChainId }\n      } catch (error) {\n        if (\n          /(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(\n            (error as Error).message,\n          )\n        )\n          throw new UserRejectedRequestError(error as Error)\n        throw error\n      }\n    },\n    async disconnect() {\n      const provider = await this.getProvider()\n\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n\n      provider.disconnect()\n      provider.close?.()\n    },\n    async getAccounts() {\n      const provider = await this.getProvider()\n      return (\n        (await provider.request({\n          method: 'eth_accounts',\n        })) as string[]\n      ).map((x) => getAddress(x))\n    },\n    async getChainId() {\n      const provider = await this.getProvider()\n      const chainId = (await provider.request({\n        method: 'eth_chainId',\n      })) as Hex\n      return Number(chainId)\n    },\n    async getProvider() {\n      if (!walletProvider) {\n        const preference = (() => {\n          if (typeof parameters.preference === 'string')\n            return { options: parameters.preference }\n          return {\n            ...parameters.preference,\n            options: parameters.preference?.options ?? 'all',\n          }\n        })()\n\n        const { createCoinbaseWalletSDK } = await import('@coinbase/wallet-sdk')\n        const sdk = createCoinbaseWalletSDK({\n          ...parameters,\n          appChainIds: config.chains.map((x) => x.id),\n          preference,\n        })\n\n        walletProvider = sdk.getProvider()\n      }\n\n      return walletProvider\n    },\n    async isAuthorized() {\n      try {\n        const accounts = await this.getAccounts()\n        return !!accounts.length\n      } catch {\n        return false\n      }\n    },\n    async switchChain({ addEthereumChainParameter, chainId }) {\n      const chain = config.chains.find((chain) => chain.id === chainId)\n      if (!chain) throw new SwitchChainError(new ChainNotConfiguredError())\n\n      const provider = await this.getProvider()\n\n      try {\n        await provider.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{ chainId: numberToHex(chain.id) }],\n        })\n        return chain\n      } catch (error) {\n        // Indicates chain is not added to provider\n        if ((error as ProviderRpcError).code === 4902) {\n          try {\n            let blockExplorerUrls: string[] | undefined\n            if (addEthereumChainParameter?.blockExplorerUrls)\n              blockExplorerUrls = addEthereumChainParameter.blockExplorerUrls\n            else\n              blockExplorerUrls = chain.blockExplorers?.default.url\n                ? [chain.blockExplorers?.default.url]\n                : []\n\n            let rpcUrls: readonly string[]\n            if (addEthereumChainParameter?.rpcUrls?.length)\n              rpcUrls = addEthereumChainParameter.rpcUrls\n            else rpcUrls = [chain.rpcUrls.default?.http[0] ?? '']\n\n            const addEthereumChain = {\n              blockExplorerUrls,\n              chainId: numberToHex(chainId),\n              chainName: addEthereumChainParameter?.chainName ?? chain.name,\n              iconUrls: addEthereumChainParameter?.iconUrls,\n              nativeCurrency:\n                addEthereumChainParameter?.nativeCurrency ??\n                chain.nativeCurrency,\n              rpcUrls,\n            } satisfies AddEthereumChainParameter\n\n            await provider.request({\n              method: 'wallet_addEthereumChain',\n              params: [addEthereumChain],\n            })\n\n            return chain\n          } catch (error) {\n            throw new UserRejectedRequestError(error as Error)\n          }\n        }\n\n        throw new SwitchChainError(error as Error)\n      }\n    },\n    onAccountsChanged(accounts) {\n      if (accounts.length === 0) this.onDisconnect()\n      else\n        config.emitter.emit('change', {\n          accounts: accounts.map((x) => getAddress(x)),\n        })\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      config.emitter.emit('disconnect')\n\n      const provider = await this.getProvider()\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n    },\n  }))\n}\n\ntype Version3Parameters = Mutable<\n  Omit<\n    ConstructorParameters<typeof CBW_SDK>[0],\n    'reloadOnDisconnect' // remove property since TSDoc says default is `true`\n  >\n> & {\n  /**\n   * Fallback Ethereum JSON RPC URL\n   * @default \"\"\n   */\n  jsonRpcUrl?: string | undefined\n  /**\n   * Fallback Ethereum Chain ID\n   * @default 1\n   */\n  chainId?: number | undefined\n  /**\n   * Whether or not to reload dapp automatically after disconnect.\n   * @default false\n   */\n  reloadOnDisconnect?: boolean | undefined\n}\n\nfunction version3(parameters: Version3Parameters) {\n  const reloadOnDisconnect = false\n\n  type Provider = CBW_Provider\n\n  let sdk: CBW_SDK | undefined\n  let walletProvider: Provider | undefined\n\n  let accountsChanged: Connector['onAccountsChanged'] | undefined\n  let chainChanged: Connector['onChainChanged'] | undefined\n  let disconnect: Connector['onDisconnect'] | undefined\n\n  return createConnector<Provider>((config) => ({\n    id: 'coinbaseWalletSDK',\n    name: 'Coinbase Wallet',\n    rdns: 'com.coinbase.wallet',\n    type: coinbaseWallet.type,\n    async connect({ chainId } = {}) {\n      try {\n        const provider = await this.getProvider()\n        const accounts = (\n          (await provider.request({\n            method: 'eth_requestAccounts',\n          })) as string[]\n        ).map((x) => getAddress(x))\n\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this)\n          provider.on('accountsChanged', accountsChanged)\n        }\n        if (!chainChanged) {\n          chainChanged = this.onChainChanged.bind(this)\n          provider.on('chainChanged', chainChanged)\n        }\n        if (!disconnect) {\n          disconnect = this.onDisconnect.bind(this)\n          provider.on('disconnect', disconnect)\n        }\n\n        // Switch to chain if provided\n        let currentChainId = await this.getChainId()\n        if (chainId && currentChainId !== chainId) {\n          const chain = await this.switchChain!({ chainId }).catch((error) => {\n            if (error.code === UserRejectedRequestError.code) throw error\n            return { id: currentChainId }\n          })\n          currentChainId = chain?.id ?? currentChainId\n        }\n\n        return { accounts, chainId: currentChainId }\n      } catch (error) {\n        if (\n          /(user closed modal|accounts received is empty|user denied account)/i.test(\n            (error as Error).message,\n          )\n        )\n          throw new UserRejectedRequestError(error as Error)\n        throw error\n      }\n    },\n    async disconnect() {\n      const provider = await this.getProvider()\n\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n\n      provider.disconnect()\n      provider.close()\n    },\n    async getAccounts() {\n      const provider = await this.getProvider()\n      return (\n        await provider.request<string[]>({\n          method: 'eth_accounts',\n        })\n      ).map((x) => getAddress(x))\n    },\n    async getChainId() {\n      const provider = await this.getProvider()\n      const chainId = await provider.request<Hex>({\n        method: 'eth_chainId',\n      })\n      return Number(chainId)\n    },\n    async getProvider() {\n      if (!walletProvider) {\n        // Unwrapping import for Vite compatibility.\n        // See: https://github.com/vitejs/vite/issues/9703\n        const CoinbaseWalletSDK = await (async () => {\n          const { default: SDK } = await import('cbw-sdk')\n          if (typeof SDK !== 'function' && typeof SDK.default === 'function')\n            return SDK.default\n          return SDK as unknown as typeof SDK.default\n        })()\n\n        sdk = new CoinbaseWalletSDK({ ...parameters, reloadOnDisconnect })\n\n        // Force types to retrieve private `walletExtension` method from the Coinbase Wallet SDK.\n        const walletExtensionChainId = (\n          sdk as unknown as {\n            get walletExtension(): { getChainId(): number } | undefined\n          }\n        ).walletExtension?.getChainId()\n\n        const chain =\n          config.chains.find((chain) =>\n            parameters.chainId\n              ? chain.id === parameters.chainId\n              : chain.id === walletExtensionChainId,\n          ) || config.chains[0]\n        const chainId = parameters.chainId || chain?.id\n        const jsonRpcUrl =\n          parameters.jsonRpcUrl || chain?.rpcUrls.default.http[0]\n\n        walletProvider = sdk.makeWeb3Provider(jsonRpcUrl, chainId)\n      }\n\n      return walletProvider\n    },\n    async isAuthorized() {\n      try {\n        const accounts = await this.getAccounts()\n        return !!accounts.length\n      } catch {\n        return false\n      }\n    },\n    async switchChain({ addEthereumChainParameter, chainId }) {\n      const chain = config.chains.find((chain) => chain.id === chainId)\n      if (!chain) throw new SwitchChainError(new ChainNotConfiguredError())\n\n      const provider = await this.getProvider()\n\n      try {\n        await provider.request({\n          method: 'wallet_switchEthereumChain',\n          params: [{ chainId: numberToHex(chain.id) }],\n        })\n        return chain\n      } catch (error) {\n        // Indicates chain is not added to provider\n        if ((error as ProviderRpcError).code === 4902) {\n          try {\n            let blockExplorerUrls: string[] | undefined\n            if (addEthereumChainParameter?.blockExplorerUrls)\n              blockExplorerUrls = addEthereumChainParameter.blockExplorerUrls\n            else\n              blockExplorerUrls = chain.blockExplorers?.default.url\n                ? [chain.blockExplorers?.default.url]\n                : []\n\n            let rpcUrls: readonly string[]\n            if (addEthereumChainParameter?.rpcUrls?.length)\n              rpcUrls = addEthereumChainParameter.rpcUrls\n            else rpcUrls = [chain.rpcUrls.default?.http[0] ?? '']\n\n            const addEthereumChain = {\n              blockExplorerUrls,\n              chainId: numberToHex(chainId),\n              chainName: addEthereumChainParameter?.chainName ?? chain.name,\n              iconUrls: addEthereumChainParameter?.iconUrls,\n              nativeCurrency:\n                addEthereumChainParameter?.nativeCurrency ??\n                chain.nativeCurrency,\n              rpcUrls,\n            } satisfies AddEthereumChainParameter\n\n            await provider.request({\n              method: 'wallet_addEthereumChain',\n              params: [addEthereumChain],\n            })\n\n            return chain\n          } catch (error) {\n            throw new UserRejectedRequestError(error as Error)\n          }\n        }\n\n        throw new SwitchChainError(error as Error)\n      }\n    },\n    onAccountsChanged(accounts) {\n      if (accounts.length === 0) this.onDisconnect()\n      else\n        config.emitter.emit('change', {\n          accounts: accounts.map((x) => getAddress(x)),\n        })\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain)\n      config.emitter.emit('change', { chainId })\n    },\n    async onDisconnect(_error) {\n      config.emitter.emit('disconnect')\n\n      const provider = await this.getProvider()\n      if (accountsChanged) {\n        provider.removeListener('accountsChanged', accountsChanged)\n        accountsChanged = undefined\n      }\n      if (chainChanged) {\n        provider.removeListener('chainChanged', chainChanged)\n        chainChanged = undefined\n      }\n      if (disconnect) {\n        provider.removeListener('disconnect', disconnect)\n        disconnect = undefined\n      }\n    },\n  }))\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}