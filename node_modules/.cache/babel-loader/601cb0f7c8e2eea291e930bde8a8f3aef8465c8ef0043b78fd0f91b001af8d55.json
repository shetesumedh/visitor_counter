{"ast":null,"code":"import { formatUnits, hexToString, trim } from 'viem';\nimport { getBalance as viem_getBalance } from 'viem/actions';\nimport { getAction } from '../utils/getAction.js';\nimport { getUnit } from '../utils/getUnit.js';\nimport { readContracts } from './readContracts.js';\n/** https://wagmi.sh/core/api/actions/getBalance */\nexport async function getBalance(config, parameters) {\n  const {\n    address,\n    blockNumber,\n    blockTag,\n    chainId,\n    token: tokenAddress,\n    unit = 'ether'\n  } = parameters;\n  if (tokenAddress) {\n    try {\n      return await getTokenBalance(config, {\n        balanceAddress: address,\n        chainId,\n        symbolType: 'string',\n        tokenAddress\n      });\n    } catch (error) {\n      // In the chance that there is an error upon decoding the contract result,\n      // it could be likely that the contract data is represented as bytes32 instead\n      // of a string.\n      if (error.name === 'ContractFunctionExecutionError') {\n        const balance = await getTokenBalance(config, {\n          balanceAddress: address,\n          chainId,\n          symbolType: 'bytes32',\n          tokenAddress\n        });\n        const symbol = hexToString(trim(balance.symbol, {\n          dir: 'right'\n        }));\n        return {\n          ...balance,\n          symbol\n        };\n      }\n      throw error;\n    }\n  }\n  const client = config.getClient({\n    chainId\n  });\n  const action = getAction(client, viem_getBalance, 'getBalance');\n  const value = await action(blockNumber ? {\n    address,\n    blockNumber\n  } : {\n    address,\n    blockTag\n  });\n  const chain = config.chains.find(x => x.id === chainId) ?? client.chain;\n  return {\n    decimals: chain.nativeCurrency.decimals,\n    formatted: formatUnits(value, getUnit(unit)),\n    symbol: chain.nativeCurrency.symbol,\n    value\n  };\n}\nasync function getTokenBalance(config, parameters) {\n  const {\n    balanceAddress,\n    chainId,\n    symbolType,\n    tokenAddress,\n    unit\n  } = parameters;\n  const contract = {\n    abi: [{\n      type: 'function',\n      name: 'balanceOf',\n      stateMutability: 'view',\n      inputs: [{\n        type: 'address'\n      }],\n      outputs: [{\n        type: 'uint256'\n      }]\n    }, {\n      type: 'function',\n      name: 'decimals',\n      stateMutability: 'view',\n      inputs: [],\n      outputs: [{\n        type: 'uint8'\n      }]\n    }, {\n      type: 'function',\n      name: 'symbol',\n      stateMutability: 'view',\n      inputs: [],\n      outputs: [{\n        type: symbolType\n      }]\n    }],\n    address: tokenAddress\n  };\n  const [value, decimals, symbol] = await readContracts(config, {\n    allowFailure: false,\n    contracts: [{\n      ...contract,\n      functionName: 'balanceOf',\n      args: [balanceAddress],\n      chainId\n    }, {\n      ...contract,\n      functionName: 'decimals',\n      chainId\n    }, {\n      ...contract,\n      functionName: 'symbol',\n      chainId\n    }]\n  });\n  const formatted = formatUnits(value ?? '0', getUnit(unit ?? decimals));\n  return {\n    decimals,\n    formatted,\n    symbol,\n    value\n  };\n}","map":{"version":3,"names":["formatUnits","hexToString","trim","getBalance","viem_getBalance","getAction","getUnit","readContracts","config","parameters","address","blockNumber","blockTag","chainId","token","tokenAddress","unit","getTokenBalance","balanceAddress","symbolType","error","name","balance","symbol","dir","client","getClient","action","value","chain","chains","find","x","id","decimals","nativeCurrency","formatted","contract","abi","type","stateMutability","inputs","outputs","allowFailure","contracts","functionName","args"],"sources":["/home/sumedhshete/visitor-counter/frontend/node_modules/@wagmi/core/src/actions/getBalance.ts"],"sourcesContent":["import { type Address, type Hex, formatUnits, hexToString, trim } from 'viem'\nimport {\n  type GetBalanceErrorType as viem_GetBalanceErrorType,\n  type GetBalanceParameters as viem_GetBalanceParameters,\n  getBalance as viem_getBalance,\n} from 'viem/actions'\n\nimport type { Config } from '../createConfig.js'\nimport type { ChainIdParameter } from '../types/properties.js'\nimport type { Unit } from '../types/unit.js'\nimport type { Compute } from '../types/utils.js'\nimport { getAction } from '../utils/getAction.js'\nimport { getUnit } from '../utils/getUnit.js'\nimport { type ReadContractsErrorType, readContracts } from './readContracts.js'\n\nexport type GetBalanceParameters<config extends Config = Config> = Compute<\n  ChainIdParameter<config> &\n    viem_GetBalanceParameters & {\n      /** @deprecated */\n      token?: Address | undefined\n      /** @deprecated */\n      unit?: Unit | undefined\n    }\n>\n\nexport type GetBalanceReturnType = {\n  decimals: number\n  /** @deprecated */\n  formatted: string\n  symbol: string\n  value: bigint\n}\n\nexport type GetBalanceErrorType = viem_GetBalanceErrorType\n\n/** https://wagmi.sh/core/api/actions/getBalance */\nexport async function getBalance<config extends Config>(\n  config: config,\n  parameters: GetBalanceParameters<config>,\n): Promise<GetBalanceReturnType> {\n  const {\n    address,\n    blockNumber,\n    blockTag,\n    chainId,\n    token: tokenAddress,\n    unit = 'ether',\n  } = parameters\n\n  if (tokenAddress) {\n    try {\n      return await getTokenBalance(config, {\n        balanceAddress: address,\n        chainId,\n        symbolType: 'string',\n        tokenAddress,\n      })\n    } catch (error) {\n      // In the chance that there is an error upon decoding the contract result,\n      // it could be likely that the contract data is represented as bytes32 instead\n      // of a string.\n      if (\n        (error as ReadContractsErrorType).name ===\n        'ContractFunctionExecutionError'\n      ) {\n        const balance = await getTokenBalance(config, {\n          balanceAddress: address,\n          chainId,\n          symbolType: 'bytes32',\n          tokenAddress,\n        })\n        const symbol = hexToString(\n          trim(balance.symbol as Hex, { dir: 'right' }),\n        )\n        return { ...balance, symbol }\n      }\n      throw error\n    }\n  }\n\n  const client = config.getClient({ chainId })\n  const action = getAction(client, viem_getBalance, 'getBalance')\n  const value = await action(\n    blockNumber ? { address, blockNumber } : { address, blockTag },\n  )\n  const chain = config.chains.find((x) => x.id === chainId) ?? client.chain!\n  return {\n    decimals: chain.nativeCurrency.decimals,\n    formatted: formatUnits(value, getUnit(unit)),\n    symbol: chain.nativeCurrency.symbol,\n    value,\n  }\n}\n\ntype GetTokenBalanceParameters = {\n  balanceAddress: Address\n  chainId?: number | undefined\n  symbolType: 'bytes32' | 'string'\n  tokenAddress: Address\n  unit?: Unit | undefined\n}\n\nasync function getTokenBalance(\n  config: Config,\n  parameters: GetTokenBalanceParameters,\n) {\n  const { balanceAddress, chainId, symbolType, tokenAddress, unit } = parameters\n  const contract = {\n    abi: [\n      {\n        type: 'function',\n        name: 'balanceOf',\n        stateMutability: 'view',\n        inputs: [{ type: 'address' }],\n        outputs: [{ type: 'uint256' }],\n      },\n      {\n        type: 'function',\n        name: 'decimals',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [{ type: 'uint8' }],\n      },\n      {\n        type: 'function',\n        name: 'symbol',\n        stateMutability: 'view',\n        inputs: [],\n        outputs: [{ type: symbolType }],\n      },\n    ],\n    address: tokenAddress,\n  } as const\n  const [value, decimals, symbol] = await readContracts(config, {\n    allowFailure: false,\n    contracts: [\n      {\n        ...contract,\n        functionName: 'balanceOf',\n        args: [balanceAddress],\n        chainId,\n      },\n      { ...contract, functionName: 'decimals', chainId },\n      { ...contract, functionName: 'symbol', chainId },\n    ] as const,\n  })\n  const formatted = formatUnits(value ?? '0', getUnit(unit ?? decimals))\n  return { decimals, formatted, symbol, value }\n}\n"],"mappings":"AAAA,SAAiCA,WAAW,EAAEC,WAAW,EAAEC,IAAI,QAAQ,MAAM;AAC7E,SAGEC,UAAU,IAAIC,eAAe,QACxB,cAAc;AAMrB,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,OAAO,QAAQ,qBAAqB;AAC7C,SAAsCC,aAAa,QAAQ,oBAAoB;AAsB/E;AACA,OAAO,eAAeJ,UAAUA,CAC9BK,MAAc,EACdC,UAAwC;EAExC,MAAM;IACJC,OAAO;IACPC,WAAW;IACXC,QAAQ;IACRC,OAAO;IACPC,KAAK,EAAEC,YAAY;IACnBC,IAAI,GAAG;EAAO,CACf,GAAGP,UAAU;EAEd,IAAIM,YAAY,EAAE;IAChB,IAAI;MACF,OAAO,MAAME,eAAe,CAACT,MAAM,EAAE;QACnCU,cAAc,EAAER,OAAO;QACvBG,OAAO;QACPM,UAAU,EAAE,QAAQ;QACpBJ;OACD,CAAC;IACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;MACd;MACA;MACA;MACA,IACGA,KAAgC,CAACC,IAAI,KACtC,gCAAgC,EAChC;QACA,MAAMC,OAAO,GAAG,MAAML,eAAe,CAACT,MAAM,EAAE;UAC5CU,cAAc,EAAER,OAAO;UACvBG,OAAO;UACPM,UAAU,EAAE,SAAS;UACrBJ;SACD,CAAC;QACF,MAAMQ,MAAM,GAAGtB,WAAW,CACxBC,IAAI,CAACoB,OAAO,CAACC,MAAa,EAAE;UAAEC,GAAG,EAAE;QAAO,CAAE,CAAC,CAC9C;QACD,OAAO;UAAE,GAAGF,OAAO;UAAEC;QAAM,CAAE;MAC/B;MACA,MAAMH,KAAK;IACb;EACF;EAEA,MAAMK,MAAM,GAAGjB,MAAM,CAACkB,SAAS,CAAC;IAAEb;EAAO,CAAE,CAAC;EAC5C,MAAMc,MAAM,GAAGtB,SAAS,CAACoB,MAAM,EAAErB,eAAe,EAAE,YAAY,CAAC;EAC/D,MAAMwB,KAAK,GAAG,MAAMD,MAAM,CACxBhB,WAAW,GAAG;IAAED,OAAO;IAAEC;EAAW,CAAE,GAAG;IAAED,OAAO;IAAEE;EAAQ,CAAE,CAC/D;EACD,MAAMiB,KAAK,GAAGrB,MAAM,CAACsB,MAAM,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKpB,OAAO,CAAC,IAAIY,MAAM,CAACI,KAAM;EAC1E,OAAO;IACLK,QAAQ,EAAEL,KAAK,CAACM,cAAc,CAACD,QAAQ;IACvCE,SAAS,EAAEpC,WAAW,CAAC4B,KAAK,EAAEtB,OAAO,CAACU,IAAI,CAAC,CAAC;IAC5CO,MAAM,EAAEM,KAAK,CAACM,cAAc,CAACZ,MAAM;IACnCK;GACD;AACH;AAUA,eAAeX,eAAeA,CAC5BT,MAAc,EACdC,UAAqC;EAErC,MAAM;IAAES,cAAc;IAAEL,OAAO;IAAEM,UAAU;IAAEJ,YAAY;IAAEC;EAAI,CAAE,GAAGP,UAAU;EAC9E,MAAM4B,QAAQ,GAAG;IACfC,GAAG,EAAE,CACH;MACEC,IAAI,EAAE,UAAU;MAChBlB,IAAI,EAAE,WAAW;MACjBmB,eAAe,EAAE,MAAM;MACvBC,MAAM,EAAE,CAAC;QAAEF,IAAI,EAAE;MAAS,CAAE,CAAC;MAC7BG,OAAO,EAAE,CAAC;QAAEH,IAAI,EAAE;MAAS,CAAE;KAC9B,EACD;MACEA,IAAI,EAAE,UAAU;MAChBlB,IAAI,EAAE,UAAU;MAChBmB,eAAe,EAAE,MAAM;MACvBC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,CAAC;QAAEH,IAAI,EAAE;MAAO,CAAE;KAC5B,EACD;MACEA,IAAI,EAAE,UAAU;MAChBlB,IAAI,EAAE,QAAQ;MACdmB,eAAe,EAAE,MAAM;MACvBC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,CAAC;QAAEH,IAAI,EAAEpB;MAAU,CAAE;KAC/B,CACF;IACDT,OAAO,EAAEK;GACD;EACV,MAAM,CAACa,KAAK,EAAEM,QAAQ,EAAEX,MAAM,CAAC,GAAG,MAAMhB,aAAa,CAACC,MAAM,EAAE;IAC5DmC,YAAY,EAAE,KAAK;IACnBC,SAAS,EAAE,CACT;MACE,GAAGP,QAAQ;MACXQ,YAAY,EAAE,WAAW;MACzBC,IAAI,EAAE,CAAC5B,cAAc,CAAC;MACtBL;KACD,EACD;MAAE,GAAGwB,QAAQ;MAAEQ,YAAY,EAAE,UAAU;MAAEhC;IAAO,CAAE,EAClD;MAAE,GAAGwB,QAAQ;MAAEQ,YAAY,EAAE,QAAQ;MAAEhC;IAAO,CAAE;GAEnD,CAAC;EACF,MAAMuB,SAAS,GAAGpC,WAAW,CAAC4B,KAAK,IAAI,GAAG,EAAEtB,OAAO,CAACU,IAAI,IAAIkB,QAAQ,CAAC,CAAC;EACtE,OAAO;IAAEA,QAAQ;IAAEE,SAAS;IAAEb,MAAM;IAAEK;EAAK,CAAE;AAC/C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}