{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rpc = void 0;\nexports.getSocket = getSocket;\nconst http_js_1 = require(\"./http.js\");\nconst webSocket_js_1 = require(\"./webSocket.js\");\nfunction webSocket(socketClient, {\n  body,\n  onError,\n  onResponse\n}) {\n  socketClient.request({\n    body,\n    onError,\n    onResponse\n  });\n  return socketClient;\n}\nasync function webSocketAsync(socketClient, {\n  body,\n  timeout = 10_000\n}) {\n  return socketClient.requestAsync({\n    body,\n    timeout\n  });\n}\nasync function getSocket(url) {\n  const client = await (0, webSocket_js_1.getWebSocketRpcClient)(url);\n  return Object.assign(client.socket, {\n    requests: client.requests,\n    subscriptions: client.subscriptions\n  });\n}\nexports.rpc = {\n  http(url, params) {\n    return (0, http_js_1.getHttpRpcClient)(url).request(params);\n  },\n  webSocket,\n  webSocketAsync\n};","map":{"version":3,"names":["exports","getSocket","http_js_1","require","webSocket_js_1","webSocket","socketClient","body","onError","onResponse","request","webSocketAsync","timeout","requestAsync","url","client","getWebSocketRpcClient","Object","assign","socket","requests","subscriptions","rpc","http","params","getHttpRpcClient"],"sources":["/home/sumedhshete/visitor-counter/frontend/node_modules/viem/utils/rpc/compat.ts"],"sourcesContent":["// TODO(v3): This file is here for backwards compatibility, and to prevent breaking changes.\n// These APIs will be removed in v3.\n\n/* c8 ignore start */\nimport type {\n  TimeoutErrorType,\n  WebSocketRequestError,\n} from '../../errors/request.js'\nimport type { ErrorType } from '../../errors/utils.js'\nimport type { RpcResponse } from '../../types/rpc.js'\nimport type { WithTimeoutErrorType } from '../promise/withTimeout.js'\nimport { type HttpRequestParameters, getHttpRpcClient } from './http.js'\nimport type { SocketRpcClient } from './socket.js'\nimport { getWebSocketRpcClient } from './webSocket.js'\n\nexport type WebSocketOptions = Parameters<\n  SocketRpcClient<WebSocket>['request']\n>[0]\nexport type WebSocketReturnType = SocketRpcClient<WebSocket>\nexport type WebSocketErrorType = WebSocketRequestError | ErrorType\n\nfunction webSocket(\n  socketClient: SocketRpcClient<WebSocket>,\n  { body, onError, onResponse }: WebSocketOptions,\n): WebSocketReturnType {\n  socketClient.request({\n    body,\n    onError,\n    onResponse,\n  })\n  return socketClient\n}\n\nexport type WebSocketAsyncOptions = Parameters<\n  SocketRpcClient<WebSocket>['requestAsync']\n>[0]\nexport type WebSocketAsyncReturnType = RpcResponse\nexport type WebSocketAsyncErrorType =\n  | WebSocketErrorType\n  | TimeoutErrorType\n  | WithTimeoutErrorType\n  | ErrorType\n\nasync function webSocketAsync(\n  socketClient: SocketRpcClient<WebSocket>,\n  { body, timeout = 10_000 }: WebSocketAsyncOptions,\n): Promise<WebSocketAsyncReturnType> {\n  return socketClient.requestAsync({\n    body,\n    timeout,\n  })\n}\n\n/**\n * @deprecated use `getSocketClient` instead.\n *\n * ```diff\n * -import { getSocket } from 'viem/utils'\n * +import { getSocketClient } from 'viem/utils'\n *\n * -const socket = await getSocket(url)\n * +const socketClient = await getSocketClient(url)\n * +const socket = socketClient.socket\n * ```\n */\nexport async function getSocket(url: string) {\n  const client = await getWebSocketRpcClient(url)\n  return Object.assign(client.socket, {\n    requests: client.requests,\n    subscriptions: client.subscriptions,\n  })\n}\n\nexport const rpc = {\n  /**\n   * @deprecated use `getHttpRpcClient` instead.\n   *\n   * ```diff\n   * -import { rpc } from 'viem/utils'\n   * +import { getHttpRpcClient } from 'viem/utils'\n   *\n   * -rpc.http(url, params)\n   * +const httpClient = getHttpRpcClient(url)\n   * +httpClient.request(params)\n   * ```\n   */\n  http(url: string, params: HttpRequestParameters) {\n    return getHttpRpcClient(url).request(params)\n  },\n  /**\n   * @deprecated use `getWebSocketRpcClient` instead.\n   *\n   * ```diff\n   * -import { rpc } from 'viem/utils'\n   * +import { getWebSocketRpcClient } from 'viem/utils'\n   *\n   * -rpc.webSocket(url, params)\n   * +const webSocketClient = getWebSocketRpcClient(url)\n   * +webSocketClient.request(params)\n   * ```\n   */\n  webSocket,\n  /**\n   * @deprecated use `getWebSocketRpcClient` instead.\n   *\n   * ```diff\n   * -import { rpc } from 'viem/utils'\n   * +import { getWebSocketRpcClient } from 'viem/utils'\n   *\n   * -const response = await rpc.webSocketAsync(url, params)\n   * +const webSocketClient = getWebSocketRpcClient(url)\n   * +const response = await webSocketClient.requestAsync(params)\n   * ```\n   */\n  webSocketAsync,\n}\n/* c8 ignore end */\n"],"mappings":";;;;;;AAiEAA,OAAA,CAAAC,SAAA,GAAAA,SAAA;AAtDA,MAAAC,SAAA,GAAAC,OAAA;AAEA,MAAAC,cAAA,GAAAD,OAAA;AAQA,SAASE,SAASA,CAChBC,YAAwC,EACxC;EAAEC,IAAI;EAAEC,OAAO;EAAEC;AAAU,CAAoB;EAE/CH,YAAY,CAACI,OAAO,CAAC;IACnBH,IAAI;IACJC,OAAO;IACPC;GACD,CAAC;EACF,OAAOH,YAAY;AACrB;AAYA,eAAeK,cAAcA,CAC3BL,YAAwC,EACxC;EAAEC,IAAI;EAAEK,OAAO,GAAG;AAAM,CAAyB;EAEjD,OAAON,YAAY,CAACO,YAAY,CAAC;IAC/BN,IAAI;IACJK;GACD,CAAC;AACJ;AAcO,eAAeX,SAASA,CAACa,GAAW;EACzC,MAAMC,MAAM,GAAG,MAAM,IAAAX,cAAA,CAAAY,qBAAqB,EAACF,GAAG,CAAC;EAC/C,OAAOG,MAAM,CAACC,MAAM,CAACH,MAAM,CAACI,MAAM,EAAE;IAClCC,QAAQ,EAAEL,MAAM,CAACK,QAAQ;IACzBC,aAAa,EAAEN,MAAM,CAACM;GACvB,CAAC;AACJ;AAEarB,OAAA,CAAAsB,GAAG,GAAG;EAajBC,IAAIA,CAACT,GAAW,EAAEU,MAA6B;IAC7C,OAAO,IAAAtB,SAAA,CAAAuB,gBAAgB,EAACX,GAAG,CAAC,CAACJ,OAAO,CAACc,MAAM,CAAC;EAC9C,CAAC;EAaDnB,SAAS;EAaTM;CACD","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}